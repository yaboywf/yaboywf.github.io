var He,R,zr,Mt,zi,Wr,Hr,Kr,ei,Tn,Sn,Gr,oe={},qr=[],hl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,me=Array.isArray;function ut(e,t){for(var n in t)e[n]=t[n];return e}function ni(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function D(e,t,n){var i,s,r,o={};for(r in t)r=="key"?i=t[r]:r=="ref"?s=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?He.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)o[r]===void 0&&(o[r]=e.defaultProps[r]);return Ce(e,o,i,s,null)}function Ce(e,t,n,i,s){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++zr,__i:-1,__u:0};return s==null&&R.vnode!=null&&R.vnode(r),r}function Z(e){return e.children}function st(e,t){this.props=e,this.context=t}function Ut(e,t){if(t==null)return e.__?Ut(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ut(e):null}function Xr(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Xr(e)}}function Pn(e){(!e.__d&&(e.__d=!0)&&Mt.push(e)&&!Ie.__r++||zi!=R.debounceRendering)&&((zi=R.debounceRendering)||Wr)(Ie)}function Ie(){for(var e,t,n,i,s,r,o,a=1;Mt.length;)Mt.length>a&&Mt.sort(Hr),e=Mt.shift(),a=Mt.length,e.__d&&(n=void 0,i=void 0,s=(i=(t=e).__v).__e,r=[],o=[],t.__P&&((n=ut({},i)).__v=i.__v+1,R.vnode&&R.vnode(n),ii(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[s]:null,r,s??Ut(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,Qr(r,n,o),i.__e=i.__=null,n.__e!=s&&Xr(n)));Ie.__r=0}function Yr(e,t,n,i,s,r,o,a,l,u,h){var c,f,d,p,y,g,m,_=i&&i.__k||qr,v=t.length;for(l=cl(n,t,_,l,v),c=0;c<v;c++)(d=n.__k[c])!=null&&(f=d.__i==-1?oe:_[d.__i]||oe,d.__i=c,g=ii(e,d,f,s,r,o,a,l,u,h),p=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&si(f.ref,null,d),h.push(d.ref,d.__c||p,d)),y==null&&p!=null&&(y=p),(m=!!(4&d.__u))||f.__k===d.__k?l=Zr(d,l,e,m):typeof d.type=="function"&&g!==void 0?l=g:p&&(l=p.nextSibling),d.__u&=-7);return n.__e=y,l}function cl(e,t,n,i,s){var r,o,a,l,u,h=n.length,c=h,f=0;for(e.__k=new Array(s),r=0;r<s;r++)(o=t[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=r+f,(o=e.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ce(null,o,null,null,null):me(o)?Ce(Z,{children:o},null,null,null):o.constructor==null&&o.__b>0?Ce(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,a=null,(u=o.__i=fl(o,n,l,c))!=-1&&(c--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(s>h?f--:s<h&&f++),typeof o.type!="function"&&(o.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,o.__u|=4))):e.__k[r]=null;if(c)for(r=0;r<h;r++)(a=n[r])!=null&&(2&a.__u)==0&&(a.__e==i&&(i=Ut(a)),to(a,a));return i}function Zr(e,t,n,i){var s,r;if(typeof e.type=="function"){for(s=e.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=e,t=Zr(s[r],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=Ut(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ht(e,t){return t=t||[],e==null||typeof e=="boolean"||(me(e)?e.some(function(n){ht(n,t)}):t.push(e)),t}function fl(e,t,n,i){var s,r,o,a=e.key,l=e.type,u=t[n],h=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||h&&a==u.key&&l==u.type)return n;if(i>(h?1:0)){for(s=n-1,r=n+1;s>=0||r<t.length;)if((u=t[o=s>=0?s--:r++])!=null&&(2&u.__u)==0&&a==u.key&&l==u.type)return o}return-1}function Wi(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||hl.test(t)?n:n+"px"}function Te(e,t,n,i,s){var r,o;t:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Wi(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||Wi(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(Kr,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i?n.u=i.u:(n.u=ei,e.addEventListener(t,r?Sn:Tn,r)):e.removeEventListener(t,r?Sn:Tn,r);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Hi(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ei++;else if(t.t<n.u)return;return n(R.event?R.event(t):t)}}}function ii(e,t,n,i,s,r,o,a,l,u){var h,c,f,d,p,y,g,m,_,v,w,x,b,S,T,P,M,V=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),r=[a=t.__e=n.__e]),(h=R.__b)&&h(t);t:if(typeof V=="function")try{if(m=t.props,_="prototype"in V&&V.prototype.render,v=(h=V.contextType)&&i[h.__c],w=h?v?v.props.value:h.__:i,n.__c?g=(c=t.__c=n.__c).__=c.__E:(_?t.__c=c=new V(m,w):(t.__c=c=new st(m,w),c.constructor=V,c.render=pl),v&&v.sub(c),c.props=m,c.state||(c.state={}),c.context=w,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),_&&c.__s==null&&(c.__s=c.state),_&&V.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ut({},c.__s)),ut(c.__s,V.getDerivedStateFromProps(m,c.__s))),d=c.props,p=c.state,c.__v=t,f)_&&V.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),_&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(_&&V.getDerivedStateFromProps==null&&m!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,w),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,w)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(c.props=m,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(L){L&&(L.__=t)}),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[],c.__h.length&&o.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,w),_&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,p,y)})}if(c.context=w,c.props=m,c.__P=e,c.__e=!1,b=R.__r,S=0,_){for(c.state=c.__s,c.__d=!1,b&&b(t),h=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,b&&b(t),h=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++S<25);c.state=c.__s,c.getChildContext!=null&&(i=ut(ut({},i),c.getChildContext())),_&&!f&&c.getSnapshotBeforeUpdate!=null&&(y=c.getSnapshotBeforeUpdate(d,p)),P=h,h!=null&&h.type===Z&&h.key==null&&(P=Jr(h.props.children)),a=Yr(e,me(P)?P:[P],t,n,i,s,r,o,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&o.push(c),g&&(c.__E=c.__=null)}catch(L){if(t.__v=null,l||r!=null)if(L.then){for(t.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,t.__e=a}else{for(M=r.length;M--;)ni(r[M]);An(t)}else t.__e=n.__e,t.__k=n.__k,L.then||An(t);R.__e(L,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=dl(n.__e,t,n,i,s,r,o,l,u);return(h=R.diffed)&&h(t),128&t.__u?void 0:a}function An(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(An)}function Qr(e,t,n){for(var i=0;i<n.length;i++)si(n[i],n[++i],n[++i]);R.__c&&R.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(r){r.call(s)})}catch(r){R.__e(r,s.__v)}})}function Jr(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:me(e)?e.map(Jr):ut({},e)}function dl(e,t,n,i,s,r,o,a,l){var u,h,c,f,d,p,y,g=n.props,m=t.props,_=t.type;if(_=="svg"?s="http://www.w3.org/2000/svg":_=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((d=r[u])&&"setAttribute"in d==!!_&&(_?d.localName==_:d.nodeType==3)){e=d,r[u]=null;break}}if(e==null){if(_==null)return document.createTextNode(m);e=document.createElementNS(s,_,m.is&&m),a&&(R.__m&&R.__m(t,r),a=!1),r=null}if(_==null)g===m||a&&e.data==m||(e.data=m);else{if(r=r&&He.call(e.childNodes),g=n.props||oe,!a&&r!=null)for(g={},u=0;u<e.attributes.length;u++)g[(d=e.attributes[u]).name]=d.value;for(u in g)if(d=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=d;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;Te(e,u,null,d,s)}}for(u in m)d=m[u],u=="children"?f=d:u=="dangerouslySetInnerHTML"?h=d:u=="value"?p=d:u=="checked"?y=d:a&&typeof d!="function"||g[u]===d||Te(e,u,d,g[u],s);if(h)a||c&&(h.__html==c.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(c&&(e.innerHTML=""),Yr(t.type=="template"?e.content:e,me(f)?f:[f],t,n,i,_=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,o,r?r[0]:n.__k&&Ut(n,0),a,l),r!=null)for(u=r.length;u--;)ni(r[u]);a||(u="value",_=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[u]||_=="progress"&&!p||_=="option"&&p!=g[u])&&Te(e,u,p,g[u],s),u="checked",y!=null&&y!=e[u]&&Te(e,u,y,g[u],s))}return e}function si(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(s){R.__e(s,n)}}function to(e,t,n){var i,s;if(R.unmount&&R.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||si(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){R.__e(r,t)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&to(i[s],t,n||typeof e.type!="function");n||ni(e.__e),e.__c=e.__=e.__e=void 0}function pl(e,t,n){return this.constructor(e,n)}function eo(e,t,n){var i,s,r,o;t==document&&(t=document.documentElement),R.__&&R.__(e,t),s=(i=!1)?null:t.__k,r=[],o=[],ii(t,e=t.__k=D(Z,null,[e]),s||oe,oe,t.namespaceURI,s?null:t.firstChild?He.call(t.childNodes):null,r,s?s.__e:t.firstChild,i,o),Qr(r,e,o)}function W(e){function t(n){var i,s;return this.getChildContext||(i=new Set,(s={})[t.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(r){this.props.value!=r.value&&i.forEach(function(o){o.__e=!0,Pn(o)})},this.sub=function(r){i.add(r);var o=r.componentWillUnmount;r.componentWillUnmount=function(){i&&i.delete(r),o&&o.call(r)}}),n.children}return t.__c="__cC"+Gr++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,i){return n.children(i)}).contextType=t,t}He=qr.slice,R={__e:function(e,t,n,i){for(var s,r,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(e)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,i||{}),o=s.__d),o)return s.__E=s}catch(a){e=a}throw e}},zr=0,st.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ut({},this.state),typeof e=="function"&&(e=e(ut({},n),this.props)),e&&ut(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Pn(this))},st.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Pn(this))},st.prototype.render=Z,Mt=[],Wr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hr=function(e,t){return e.__v.__b-t.__v.__b},Ie.__r=0,Kr=/(PointerCapture)$|Capture$/i,ei=0,Tn=Hi(!1),Sn=Hi(!0),Gr=0;var xt,k,Je,Ki,ae=0,no=[],N=R,Gi=N.__b,qi=N.__r,Xi=N.diffed,Yi=N.__c,Zi=N.unmount,Qi=N.__;function Kt(e,t){N.__h&&N.__h(k,e,ae||t),ae=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Be(e){return ae=1,ml(io,e)}function ml(e,t,n){var i=Kt(xt++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):io(void 0,t),function(a){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,a);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=k,!k.__f)){var s=function(a,l,u){if(!i.__c.__H)return!0;var h=i.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!r||r.call(this,a,l,u);var c=i.__c.props!==a;return h.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(c=!0)}}),r&&r.call(this,a,l,u)||c};k.__f=!0;var r=k.shouldComponentUpdate,o=k.componentWillUpdate;k.componentWillUpdate=function(a,l,u){if(this.__e){var h=r;r=void 0,s(a,l,u),r=h}o&&o.call(this,a,l,u)},k.shouldComponentUpdate=s}return i.__N||i.__}function zt(e,t){var n=Kt(xt++,3);!N.__s&&ri(n.__H,t)&&(n.__=e,n.u=t,k.__H.__h.push(n))}function Ke(e,t){var n=Kt(xt++,4);!N.__s&&ri(n.__H,t)&&(n.__=e,n.u=t,k.__h.push(n))}function _t(e){return ae=5,X(function(){return{current:e}},[])}function X(e,t){var n=Kt(xt++,7);return ri(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Dt(e,t){return ae=8,X(function(){return e},t)}function E(e){var t=k.context[e.__c],n=Kt(xt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(k)),t.props.value):e.__}function gl(){var e=Kt(xt++,11);if(!e.__){for(var t=k.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function yl(){for(var e;e=no.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Re),e.__H.__h.forEach(Mn),e.__H.__h=[]}catch(t){e.__H.__h=[],N.__e(t,e.__v)}}N.__b=function(e){k=null,Gi&&Gi(e)},N.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Qi&&Qi(e,t)},N.__r=function(e){qi&&qi(e),xt=0;var t=(k=e.__c).__H;t&&(Je===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Re),t.__h.forEach(Mn),t.__h=[],xt=0)),Je=k},N.diffed=function(e){Xi&&Xi(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(no.push(t)!==1&&Ki===N.requestAnimationFrame||((Ki=N.requestAnimationFrame)||_l)(yl)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Je=k=null},N.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Re),n.__h=n.__h.filter(function(i){return!i.__||Mn(i)})}catch(i){t.some(function(s){s.__h&&(s.__h=[])}),t=[],N.__e(i,n.__v)}}),Yi&&Yi(e,t)},N.unmount=function(e){Zi&&Zi(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Re(i)}catch(s){t=s}}),n.__H=void 0,t&&N.__e(t,n.__v))};var Ji=typeof requestAnimationFrame=="function";function _l(e){var t,n=function(){clearTimeout(i),Ji&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);Ji&&(t=requestAnimationFrame(n))}function Re(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function Mn(e){var t=k;e.__c=e.__(),k=t}function ri(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function io(e,t){return typeof t=="function"?t(e):t}function so(e,t){for(var n in t)e[n]=t[n];return e}function En(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function vl(e){e()}var xl=Ke;function ts(e,t){this.props=e,this.context=t}function wl(e,t){function n(s){var r=this.props.ref,o=r==s.ref;return!o&&r&&(r.call?r(null):r.current=null),t?!t(this.props,s)||!o:En(this.props,s)}function i(s){return this.shouldComponentUpdate=n,D(e,s)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(ts.prototype=new st).isPureReactComponent=!0,ts.prototype.shouldComponentUpdate=function(e,t){return En(this.props,e)||En(this.state,t)};var es=R.__b;R.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),es&&es(e)};var bl=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ge(e){function t(n){var i=so({},n);return delete i.ref,e(i,n.ref||null)}return t.$$typeof=bl,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ns=function(e,t){return e==null?null:ht(ht(e).map(t))},Tl={map:ns,forEach:ns,count:function(e){return e?ht(e).length:0},only:function(e){var t=ht(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:ht},Sl=R.__e;R.__e=function(e,t,n,i){if(e.then){for(var s,r=t;r=r.__;)if((s=r.__c)&&s.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),s.__c(e,t)}Sl(e,t,n,i)};var is=R.unmount;function ro(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=so({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return ro(i,t,n)})),e}function oo(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return oo(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function tn(){this.__u=0,this.o=null,this.__b=null}function ao(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ug(e){var t,n,i;function s(r){if(t||(t=e()).then(function(o){n=o.default||o},function(o){i=o}),i)throw i;if(!n)throw t;return D(n,r)}return s.displayName="Lazy",s.__f=!0,s}function Se(){this.i=null,this.l=null}R.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),is&&is(e)},(tn.prototype=new st).__c=function(e,t){var n=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=ao(i.__v),r=!1,o=function(){r||(r=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=oo(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.o.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},tn.prototype.componentWillUnmount=function(){this.o=[]},tn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=ro(this.__b,n,i.__O=i.__P)}this.__b=null}var s=t.__a&&D(Z,null,e.fallback);return s&&(s.__u&=-33),[D(Z,null,t.__a?null:e.children),s]};var ss=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Se.prototype=new st).__a=function(e){var t=this,n=ao(t.__v),i=t.l.get(e);return i[0]++,function(s){var r=function(){t.props.revealOrder?(i.push(s),ss(t,e,i)):s()};n?n(r):r()}},Se.prototype.render=function(e){this.i=null,this.l=new Map;var t=ht(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Se.prototype.componentDidUpdate=Se.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){ss(e,n,t)})};var lo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Pl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Al=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ml=/[A-Z0-9]/g,El=typeof document<"u",Cl=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Rl(e,t,n){return t.__k==null&&(t.textContent=""),eo(e,t),typeof n=="function"&&n(),e?e.__c:null}st.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(st.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var rs=R.event;function Vl(){}function Dl(){return this.cancelBubble}function Ll(){return this.defaultPrevented}R.event=function(e){return rs&&(e=rs(e)),e.persist=Vl,e.isPropagationStopped=Dl,e.isDefaultPrevented=Ll,e.nativeEvent=e};var kl={enumerable:!1,configurable:!0,get:function(){return this.class}},os=R.vnode;R.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,i=t.type,s={},r=i.indexOf("-")===-1;for(var o in n){var a=n[o];if(!(o==="value"&&"defaultValue"in n&&a==null||El&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Cl(n.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":Al.test(o)&&(o=l):l=o="oninput":r&&Pl.test(o)?o=o.replace(Ml,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&s[o=l]&&(o="oninputCapture"),s[o]=a}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ht(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=ht(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",kl)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),t.props=s})(e),e.$$typeof=lo,os&&os(e)};var as=R.__r;R.__r=function(e){as&&as(e),e.__c};var ls=R.diffed;R.diffed=function(e){ls&&ls(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function Fl(e){return!!e&&e.$$typeof===lo}function Ol(e){return!!e.__k&&(eo(null,e),!0)}var hg=Z,Il=0;function Cn(e,t,n,i,s,r){t||(t={});var o,a,l=t;if("ref"in l)for(a in l={},t)a=="ref"?o=t[a]:l[a]=t[a];var u={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Il,__i:-1,__u:0,__source:s,__self:r};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return R.vnode&&R.vnode(u),u}function cg(e){return{render:function(t){Rl(t,e)},unmount:function(){Ol(e)}}}var us="popstate";function Bl(e={}){function t(s,r){let{pathname:o="/",search:a="",hash:l=""}=Lt(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Rn("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof r=="string"?r:le(r))}function i(s,r){rt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return Nl(t,n,i,e)}function I(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $l(){return Math.random().toString(36).substring(2,10)}function hs(e,t){return{usr:e.state,key:e.key,idx:t}}function Rn(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lt(t):t,state:n,key:t&&t.key||i||$l()}}function le({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Nl(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function c(){a="POP";let g=h(),m=g==null?null:g-u;u=g,l&&l({action:a,location:y.location,delta:m})}function f(g,m){a="PUSH";let _=Rn(y.location,g,m);n&&n(_,g),u=h()+1;let v=hs(_,u),w=y.createHref(_);try{o.pushState(v,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(w)}r&&l&&l({action:a,location:y.location,delta:1})}function d(g,m){a="REPLACE";let _=Rn(y.location,g,m);n&&n(_,g),u=h();let v=hs(_,u),w=y.createHref(_);o.replaceState(v,"",w),r&&l&&l({action:a,location:y.location,delta:0})}function p(g){return jl(g)}let y={get action(){return a},get location(){return e(s,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(us,c),l=g,()=>{s.removeEventListener(us,c),l=null}},createHref(g){return t(s,g)},createURL:p,encodeLocation(g){let m=p(g);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(g){return o.go(g)}};return y}function jl(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),I(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:le(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function uo(e,t,n="/"){return Ul(e,t,n,!1)}function Ul(e,t,n,i){let s=typeof t=="string"?Lt(t):t,r=ft(s.pathname||"/",n);if(r==null)return null;let o=ho(e);zl(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=tu(r);a=Ql(o[l],u,i)}return a}function ho(e,t=[],n=[],i="",s=!1){let r=(o,a,l=s,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&l)return;I(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let c=ct([i,h.relativePath]),f=n.concat(h);o.children&&o.children.length>0&&(I(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ho(o.children,t,f,c,l)),!(o.path==null&&!o.index)&&t.push({path:c,score:Yl(c,o.index),routesMeta:f})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))r(o,a);else for(let l of co(o.path))r(o,a,!0,l)}),t}function co(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=co(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function zl(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zl(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Wl=/^:[\w-]+$/,Hl=3,Kl=2,Gl=1,ql=10,Xl=-2,cs=e=>e==="*";function Yl(e,t){let n=e.split("/"),i=n.length;return n.some(cs)&&(i+=Xl),t&&(i+=Kl),n.filter(s=>!cs(s)).reduce((s,r)=>s+(Wl.test(r)?Hl:r===""?Gl:ql),i)}function Zl(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function Ql(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",c=$e({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!c&&u&&n&&!i[i.length-1].route.index&&(c=$e({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!c)return null;Object.assign(s,c.params),o.push({params:s,pathname:ct([r,c.pathname]),pathnameBase:su(ct([r,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(r=ct([r,c.pathnameBase]))}return o}function $e(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Jl(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:c},f)=>{if(h==="*"){let p=a[f]||"";o=r.slice(0,r.length-p.length).replace(/(.)\/+$/,"$1")}const d=a[f];return c&&!d?u[h]=void 0:u[h]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:e}}function Jl(e,t=!1,n=!0){rt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function tu(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ft(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function eu(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Lt(e):e;return{pathname:n?n.startsWith("/")?n:nu(n,t):t,search:ru(i),hash:ou(s)}}function nu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function en(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iu(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fo(e){let t=iu(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function po(e,t,n,i=!1){let s;typeof e=="string"?s=Lt(e):(s={...e},I(!s.pathname||!s.pathname.includes("?"),en("?","pathname","search",s)),I(!s.pathname||!s.pathname.includes("#"),en("#","pathname","hash",s)),I(!s.search||!s.search.includes("#"),en("#","search","hash",s)));let r=e===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let c=t.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;s.pathname=f.join("/")}a=c>=0?t[c]:"/"}let l=eu(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var ct=e=>e.join("/").replace(/\/\/+/g,"/"),su=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ru=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ou=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function au(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var mo=["POST","PUT","PATCH","DELETE"];new Set(mo);var lu=["GET",...mo];new Set(lu);var Gt=W(null);Gt.displayName="DataRouter";var qe=W(null);qe.displayName="DataRouterState";W(!1);var go=W({isTransitioning:!1});go.displayName="ViewTransition";var uu=W(new Map);uu.displayName="Fetchers";var hu=W(null);hu.displayName="Await";var lt=W(null);lt.displayName="Navigation";var ge=W(null);ge.displayName="Location";var mt=W({outlet:null,matches:[],isDataRoute:!1});mt.displayName="Route";var oi=W(null);oi.displayName="RouteError";function cu(e,{relative:t}={}){I(ye(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E(lt),{hash:s,pathname:r,search:o}=_e(e,{relative:t}),a=r;return n!=="/"&&(a=r==="/"?n:ct([n,r])),i.createHref({pathname:a,search:o,hash:s})}function ye(){return E(ge)!=null}function kt(){return I(ye(),"useLocation() may be used only in the context of a <Router> component."),E(ge).location}var yo="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _o(e){E(lt).static||Ke(e)}function fu(){let{isDataRoute:e}=E(mt);return e?Pu():du()}function du(){I(ye(),"useNavigate() may be used only in the context of a <Router> component.");let e=E(Gt),{basename:t,navigator:n}=E(lt),{matches:i}=E(mt),{pathname:s}=kt(),r=JSON.stringify(fo(i)),o=_t(!1);return _o(()=>{o.current=!0}),Dt((l,u={})=>{if(rt(o.current,yo),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=po(l,JSON.parse(r),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ct([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,r,s,e])}W(null);function _e(e,{relative:t}={}){let{matches:n}=E(mt),{pathname:i}=kt(),s=JSON.stringify(fo(n));return X(()=>po(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function pu(e,t){return vo(e,t)}function vo(e,t,n,i,s){I(ye(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=E(lt),{matches:o}=E(mt),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",c=a&&a.route;{let _=c&&c.path||"";xo(u,!c||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=kt(),d;if(t){let _=typeof t=="string"?Lt(t):t;I(h==="/"||_.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),d=_}else d=f;let p=d.pathname||"/",y=p;if(h!=="/"){let _=h.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=uo(e,{pathname:y});rt(c||g!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),rt(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=vu(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ct([h,r.encodeLocation?r.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:ct([h,r.encodeLocation?r.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,i,s);return t&&m?D(ge.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},m):m}function mu(){let e=Su(),t=au(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=D(Z,null,D("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),D("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D("code",{style:r},"ErrorBoundary")," or"," ",D("code",{style:r},"errorElement")," prop on your route.")),D(Z,null,D("h2",null,"Unexpected Application Error!"),D("h3",{style:{fontStyle:"italic"}},t),n?D("pre",{style:s},n):null,o)}var gu=D(mu,null),yu=class extends st{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?D(mt.Provider,{value:this.props.routeContext},D(oi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _u({routeContext:e,match:t,children:n}){let i=E(Gt);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D(mt.Provider,{value:e},n)}function vu(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n?.errors;if(o!=null){let u=r.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);I(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<r.length;u++){let h=r[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:c,errors:f}=n,d=h.route.loader&&!c.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||d){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,h,c)=>{let f,d=!1,p=null,y=null;n&&(f=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||gu,a&&(l<0&&c===0?(xo("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,y=null):l===c&&(d=!0,y=h.route.hydrateFallbackElement||null)));let g=t.concat(r.slice(0,c+1)),m=()=>{let _;return f?_=p:d?_=y:h.route.Component?_=D(h.route.Component,null):h.route.element?_=h.route.element:_=u,D(_u,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||c===0)?D(yu,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:i}):m()},null)}function ai(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xu(e){let t=E(Gt);return I(t,ai(e)),t}function wu(e){let t=E(qe);return I(t,ai(e)),t}function bu(e){let t=E(mt);return I(t,ai(e)),t}function li(e){let t=bu(e),n=t.matches[t.matches.length-1];return I(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Tu(){return li("useRouteId")}function Su(){let e=E(oi),t=wu("useRouteError"),n=li("useRouteError");return e!==void 0?e:t.errors?.[n]}function Pu(){let{router:e}=xu("useNavigate"),t=li("useNavigate"),n=_t(!1);return _o(()=>{n.current=!0}),Dt(async(s,r={})=>{rt(n.current,yo),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var fs={};function xo(e,t,n){!t&&!fs[e]&&(fs[e]=!0,rt(!1,n))}wl(Au);function Au({routes:e,future:t,state:n,unstable_onError:i}){return vo(e,void 0,n,i,t)}function Mu(e){I(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Eu({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){I(!ye(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=X(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof n=="string"&&(n=Lt(n));let{pathname:l="/",search:u="",hash:h="",state:c=null,key:f="default"}=n,d=X(()=>{let p=ft(l,o);return p==null?null:{location:{pathname:p,search:u,hash:h,state:c,key:f},navigationType:i}},[o,l,u,h,c,f,i]);return rt(d!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:D(lt.Provider,{value:a},D(ge.Provider,{children:t,value:d}))}function fg({children:e,location:t}){return pu(Vn(e),t)}function Vn(e,t=[]){let n=[];return Tl.forEach(e,(i,s)=>{if(!Fl(i))return;let r=[...t,s];if(i.type===Z){n.push.apply(n,Vn(i.props.children,r));return}I(i.type===Mu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),I(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Vn(i.props.children,r)),n.push(o)}),n}var Ve="get",De="application/x-www-form-urlencoded";function Xe(e){return e!=null&&typeof e.tagName=="string"}function Cu(e){return Xe(e)&&e.tagName.toLowerCase()==="button"}function Ru(e){return Xe(e)&&e.tagName.toLowerCase()==="form"}function Vu(e){return Xe(e)&&e.tagName.toLowerCase()==="input"}function Du(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lu(e,t){return e.button===0&&(!t||t==="_self")&&!Du(e)}var Pe=null;function ku(){if(Pe===null)try{new FormData(document.createElement("form"),0),Pe=!1}catch{Pe=!0}return Pe}var Fu=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nn(e){return e!=null&&!Fu.has(e)?(rt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${De}"`),null):e}function Ou(e,t){let n,i,s,r,o;if(Ru(e)){let a=e.getAttribute("action");i=a?ft(a,t):null,n=e.getAttribute("method")||Ve,s=nn(e.getAttribute("enctype"))||De,r=new FormData(e)}else if(Cu(e)||Vu(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(i=l?ft(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ve,s=nn(e.getAttribute("formenctype"))||nn(a.getAttribute("enctype"))||De,r=new FormData(a,e),!ku()){let{name:u,type:h,value:c}=e;if(h==="image"){let f=u?`${u}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else u&&r.append(u,c)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ve,i=null,s=De,o=e}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ui(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Iu(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ft(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Bu(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $u(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Nu(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let o=await Bu(r,n);return o.links?o.links():[]}return[]}));return Wu(i.flat(1).filter($u).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ds(e,t,n,i,s,r){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return r==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):r==="data"?t.filter((l,u)=>{let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let c=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function ju(e,t,{includeHydrateFallback:n}={}){return Uu(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function Uu(e){return[...new Set(e)]}function zu(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Wu(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(zu(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function wo(){let e=E(Gt);return ui(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Hu(){let e=E(qe);return ui(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hi=W(void 0);hi.displayName="FrameworkContext";function bo(){let e=E(hi);return ui(e,"You must render this element inside a <HydratedRouter> element"),e}function Ku(e,t){let n=E(hi),[i,s]=Be(!1),[r,o]=Be(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:c}=t,f=_t(null);zt(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=m=>{m.forEach(_=>{o(_.isIntersecting)})},g=new IntersectionObserver(y,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),zt(()=>{if(i){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[i]);let d=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?e!=="intent"?[r,f,{}]:[r,f,{onFocus:Zt(a,d),onBlur:Zt(l,p),onMouseEnter:Zt(u,d),onMouseLeave:Zt(h,p),onTouchStart:Zt(c,d)}]:[!1,f,{}]}function Zt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Gu({page:e,...t}){let{router:n}=wo(),i=X(()=>uo(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?D(Xu,{page:e,matches:i,...t}):null}function qu(e){let{manifest:t,routeModules:n}=bo(),[i,s]=Be([]);return zt(()=>{let r=!1;return Nu(e,t,n).then(o=>{r||s(o)}),()=>{r=!0}},[e,t,n]),i}function Xu({page:e,matches:t,...n}){let i=kt(),{manifest:s,routeModules:r}=bo(),{basename:o}=wo(),{loaderData:a,matches:l}=Hu(),u=X(()=>ds(e,t,l,s,i,"data"),[e,t,l,s,i]),h=X(()=>ds(e,t,l,s,i,"assets"),[e,t,l,s,i]),c=X(()=>{if(e===i.pathname+i.search+i.hash)return[];let p=new Set,y=!1;if(t.forEach(m=>{let _=s.routes[m.route.id];!_||!_.hasLoader||(!u.some(v=>v.route.id===m.route.id)&&m.route.id in a&&r[m.route.id]?.shouldRevalidate||_.hasClientLoader?y=!0:p.add(m.route.id))}),p.size===0)return[];let g=Iu(e,o,"data");return y&&p.size>0&&g.searchParams.set("_routes",t.filter(m=>p.has(m.route.id)).map(m=>m.route.id).join(",")),[g.pathname+g.search]},[o,a,i,s,u,t,e,r]),f=X(()=>ju(h,s),[h,s]),d=qu(h);return D(Z,null,c.map(p=>D("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>D("link",{key:p,rel:"modulepreload",href:p,...n})),d.map(({key:p,link:y})=>D("link",{key:p,nonce:n.nonce,...y})))}function Yu(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var To=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{To&&(window.__reactRouterVersion="7.9.4")}catch{}function dg({basename:e,children:t,window:n}){let i=_t();i.current==null&&(i.current=Bl({window:n,v5Compat:!0}));let s=i.current,[r,o]=Be({action:s.action,location:s.location}),a=Dt(l=>{vl(()=>o(l))},[o]);return Ke(()=>s.listen(a),[s,a]),D(Eu,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var So=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Po=Ge(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:c,...f},d){let{basename:p}=E(lt),y=typeof u=="string"&&So.test(u),g,m=!1;if(typeof u=="string"&&y&&(g=u,To))try{let P=new URL(window.location.href),M=u.startsWith("//")?new URL(P.protocol+u):new URL(u),V=ft(M.pathname,p);M.origin===P.origin&&V!=null?u=V+M.search+M.hash:m=!0}catch{rt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=cu(u,{relative:s}),[v,w,x]=Ku(i,f),b=th(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:c});function S(P){t&&t(P),P.defaultPrevented||b(P)}let T=D("a",{...f,...x,href:g||_,onClick:m||r?t:S,ref:Yu(d,w),target:l,"data-discover":!y&&n==="render"?"true":void 0});return v&&!y?D(Z,null,T,D(Gu,{page:_})):T});Po.displayName="Link";var Zu=Ge(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:l,...u},h){let c=_e(o,{relative:u.relative}),f=kt(),d=E(qe),{navigator:p,basename:y}=E(lt),g=d!=null&&rh(c)&&a===!0,m=p.encodeLocation?p.encodeLocation(c).pathname:c.pathname,_=f.pathname,v=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(_=_.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&y&&(v=ft(v,y)||v);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let x=_===m||!s&&_.startsWith(m)&&_.charAt(w)==="/",b=v!=null&&(v===m||!s&&v.startsWith(m)&&v.charAt(m.length)==="/"),S={isActive:x,isPending:b,isTransitioning:g},T=x?t:void 0,P;typeof i=="function"?P=i(S):P=[i,x?"active":null,b?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let M=typeof r=="function"?r(S):r;return D(Po,{...u,"aria-current":T,className:P,ref:h,style:M,to:o,viewTransition:a},typeof l=="function"?l(S):l)});Zu.displayName="NavLink";var Qu=Ge(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:o=Ve,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:c,...f},d)=>{let p=ih(),y=sh(a,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&So.test(a);return D("form",{ref:d,method:g,action:y,onSubmit:i?l:v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let w=v.nativeEvent.submitter,x=w?.getAttribute("formmethod")||o;p(w||v.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:s,state:r,relative:u,preventScrollReset:h,viewTransition:c})},...f,"data-discover":!m&&e==="render"?"true":void 0})});Qu.displayName="Form";function Ju(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ao(e){let t=E(Gt);return I(t,Ju(e)),t}function th(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=fu(),l=kt(),u=_e(e,{relative:r});return Dt(h=>{if(Lu(h,t)){h.preventDefault();let c=n!==void 0?n:le(l)===le(u);a(e,{replace:c,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[l,a,u,n,i,t,e,s,r,o])}var eh=0,nh=()=>`__${String(++eh)}__`;function ih(){let{router:e}=Ao("useSubmit"),{basename:t}=E(lt),n=Tu();return Dt(async(i,s={})=>{let{action:r,method:o,encType:a,formData:l,body:u}=Ou(i,t);if(s.navigate===!1){let h=s.fetcherKey||nh();await e.fetch(h,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function sh(e,{relative:t}={}){let{basename:n}=E(lt),i=E(mt);I(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={..._e(e||".",{relative:t})},o=kt();if(e==null){r.search=o.search;let a=new URLSearchParams(r.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(c=>c).forEach(c=>a.append("index",c));let h=a.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ct([n,r.pathname])),le(r)}function rh(e,{relative:t}={}){let n=E(go);I(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ao("useViewTransitionState"),s=_e(e,{relative:t});if(!n.isTransitioning)return!1;let r=ft(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=ft(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $e(s.pathname,o)!=null||$e(s.pathname,r)!=null}function te(e){let t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)}function Dn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function oh(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function ps(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function ms(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function ah(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function lh(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function sn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function uh(e,t){let n=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+i*i+s*s)}function hh(e,t){let n=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2];return n*n+i*i+s*s}function gs(e){let t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function ch(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function fh(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Ln(e,t){let n=t[0],i=t[1],s=t[2],r=n*n+i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Mo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ys(e,t,n){let i=t[0],s=t[1],r=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-r*a,e[1]=r*o-i*l,e[2]=i*a-s*o,e}function dh(e,t,n,i){let s=t[0],r=t[1],o=t[2];return e[0]=s+i*(n[0]-s),e[1]=r+i*(n[1]-r),e[2]=o+i*(n[2]-o),e}function ph(e,t,n,i,s){const r=Math.exp(-i*s);let o=t[0],a=t[1],l=t[2];return e[0]=n[0]+(o-n[0])*r,e[1]=n[1]+(a-n[1])*r,e[2]=n[2]+(l-n[2])*r,e}function mh(e,t,n){let i=t[0],s=t[1],r=t[2],o=n[3]*i+n[7]*s+n[11]*r+n[15];return o=o||1,e[0]=(n[0]*i+n[4]*s+n[8]*r+n[12])/o,e[1]=(n[1]*i+n[5]*s+n[9]*r+n[13])/o,e[2]=(n[2]*i+n[6]*s+n[10]*r+n[14])/o,e}function gh(e,t,n){let i=t[0],s=t[1],r=t[2],o=n[3]*i+n[7]*s+n[11]*r+n[15];return o=o||1,e[0]=(n[0]*i+n[4]*s+n[8]*r)/o,e[1]=(n[1]*i+n[5]*s+n[9]*r)/o,e[2]=(n[2]*i+n[6]*s+n[10]*r)/o,e}function yh(e,t,n){let i=t[0],s=t[1],r=t[2];return e[0]=i*n[0]+s*n[3]+r*n[6],e[1]=i*n[1]+s*n[4]+r*n[7],e[2]=i*n[2]+s*n[5]+r*n[8],e}function _h(e,t,n){let i=t[0],s=t[1],r=t[2],o=n[0],a=n[1],l=n[2],u=n[3],h=a*r-l*s,c=l*i-o*r,f=o*s-a*i,d=a*f-l*c,p=l*h-o*f,y=o*c-a*h,g=u*2;return h*=g,c*=g,f*=g,d*=2,p*=2,y*=2,e[0]=i+h+d,e[1]=s+c+p,e[2]=r+f+y,e}const vh=(function(){const e=[0,0,0],t=[0,0,0];return function(n,i){Dn(e,n),Dn(t,i),Ln(e,e),Ln(t,t);let s=Mo(e,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}})();function xh(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class U extends Array{constructor(t=0,n=t,i=t){return super(t,n,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,n=t,i=t){return t.length?this.copy(t):(oh(this,t,n,i),this)}copy(t){return Dn(this,t),this}add(t,n){return n?ps(this,t,n):ps(this,this,t),this}sub(t,n){return n?ms(this,t,n):ms(this,this,t),this}multiply(t){return t.length?ah(this,this,t):sn(this,this,t),this}divide(t){return t.length?lh(this,this,t):sn(this,this,1/t),this}inverse(t=this){return fh(this,t),this}len(){return te(this)}distance(t){return t?uh(this,t):te(this)}squaredLen(){return gs(this)}squaredDistance(t){return t?hh(this,t):gs(this)}negate(t=this){return ch(this,t),this}cross(t,n){return n?ys(this,t,n):ys(this,this,t),this}scale(t){return sn(this,this,t),this}normalize(){return Ln(this,this),this}dot(t){return Mo(this,t)}equals(t){return xh(this,t)}applyMatrix3(t){return yh(this,this,t),this}applyMatrix4(t){return mh(this,this,t),this}scaleRotateMatrix4(t){return gh(this,this,t),this}applyQuaternion(t){return _h(this,this,t),this}angle(t){return vh(this,t)}lerp(t,n){return dh(this,this,t,n),this}smoothLerp(t,n,i){return ph(this,this,t,n,i),this}clone(){return new U(this[0],this[1],this[2])}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}transformDirection(t){const n=this[0],i=this[1],s=this[2];return this[0]=t[0]*n+t[4]*i+t[8]*s,this[1]=t[1]*n+t[5]*i+t[9]*s,this[2]=t[2]*n+t[6]*i+t[10]*s,this.normalize()}}const _s=new U;let wh=1,bh=1,vs=!1;class Th{constructor(t,n={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=n,this.id=wh++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in n)this.addAttribute(i,n[i])}addAttribute(t,n){if(this.attributes[t]=n,n.id=bh++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else t==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(t){const n=!t.buffer;n&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),n?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((n,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const r=this.attributes[i];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let o=1;s===35674&&(o=2),s===35675&&(o=3),s===35676&&(o=4);const a=r.size/o,l=o===1?0:o*o*4,u=o===1?0:o*4;for(let h=0;h<o;h++)this.gl.vertexAttribPointer(n+h,a,r.type,r.normalized,r.stride+l,r.offset+h*u),this.gl.enableVertexAttribArray(n+h),this.gl.renderer.vertexAttribDivisor(n+h,r.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((s,{name:r})=>{const o=this.attributes[r];o.needsUpdate&&this.updateAttribute(o)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!vs)return console.warn("No position buffer data found to compute bounds"),vs=!0}computeBoundingBox(t){t||(t=this.getPosition());const n=t.data,i=t.size;this.bounds||(this.bounds={min:new U,max:new U,center:new U,scale:new U,radius:1/0});const s=this.bounds.min,r=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;s.set(1/0),r.set(-1/0);for(let l=0,u=n.length;l<u;l+=i){const h=n[l],c=n[l+1],f=n[l+2];s.x=Math.min(h,s.x),s.y=Math.min(c,s.y),s.z=Math.min(f,s.z),r.x=Math.max(h,r.x),r.y=Math.max(c,r.y),r.z=Math.max(f,r.z)}a.sub(r,s),o.add(s,r).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const n=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let r=0,o=n.length;r<o;r+=i)_s.fromArray(n,r),s=Math.max(s,this.bounds.center.squaredDistance(_s));this.bounds.radius=Math.sqrt(s)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Sh=1;const xs={};class pg{constructor(t,{vertex:n,fragment:i,uniforms:s={},transparent:r=!1,cullFace:o=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:h=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=s,this.id=Sh++,n||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=u,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:i})}setShaders({vertex:t,fragment:n}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${ws(t)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${ws(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;const s=[],r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(s[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=s.join("")}setBlendFunc(t,n,i,s){this.blendFunc.src=t,this.blendFunc.dst=n,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,t&&(this.transparent=!0)}setBlendEquation(t,n){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=n}setStencilFunc(t,n,i){this.stencilRef=n,this.stencilFunc.func=t,this.stencilFunc.ref=n,this.stencilFunc.mask=i}setStencilOp(t,n,i){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=n,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,r)=>{let o=this.uniforms[r.uniformName];for(const a of r.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return bs(`Active uniform ${r.name} has not been supplied`);if(o&&o.value===void 0)return bs(`${r.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),rn(this.gl,r.type,s,n);if(o.value.length&&o.value[0].texture){const a=[];return o.value.forEach(l=>{n=n+1,l.update(n),a.push(n)}),rn(this.gl,r.type,s,a)}rn(this.gl,r.type,s,o.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function rn(e,t,n,i){i=i.length?Ph(i):i;const s=e.renderer.state.uniformLocations.get(n);if(i.length)if(s===void 0||s.length!==i.length)e.renderer.state.uniformLocations.set(n,i.slice(0));else{if(Ah(s,i))return;s.set?s.set(i):Mh(s,i),e.renderer.state.uniformLocations.set(n,s)}else{if(s===i)return;e.renderer.state.uniformLocations.set(n,i)}switch(t){case 5126:return i.length?e.uniform1fv(n,i):e.uniform1f(n,i);case 35664:return e.uniform2fv(n,i);case 35665:return e.uniform3fv(n,i);case 35666:return e.uniform4fv(n,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?e.uniform1iv(n,i):e.uniform1i(n,i);case 35671:case 35667:return e.uniform2iv(n,i);case 35672:case 35668:return e.uniform3iv(n,i);case 35673:case 35669:return e.uniform4iv(n,i);case 35674:return e.uniformMatrix2fv(n,!1,i);case 35675:return e.uniformMatrix3fv(n,!1,i);case 35676:return e.uniformMatrix4fv(n,!1,i)}}function ws(e){let t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function Ph(e){const t=e.length,n=e[0].length;if(n===void 0)return e;const i=t*n;let s=xs[i];s||(xs[i]=s=new Float32Array(i));for(let r=0;r<t;r++)s.set(e[r],r*n);return s}function Ah(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Mh(e,t){for(let n=0,i=e.length;n<i;n++)e[n]=t[n]}let on=0;function bs(e){on>100||(console.warn(e),on++,on>100&&console.warn("More than 100 program warnings - stopping logs."))}const an=new U;let Eh=1;class mg{constructor({canvas:t=document.createElement("canvas"),width:n=300,height:i=150,dpr:s=1,alpha:r=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:h=!1,powerPreference:c="default",autoClear:f=!0,webgl:d=2}={}){const p={alpha:r,depth:o,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:c};this.dpr=s,this.alpha=r,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=f,this.id=Eh++,d===2&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,n){this.width=t,this.height=n,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:n+"px"})}setViewport(t,n,i=0,s=0){this.state.viewport.width===t&&this.state.viewport.height===n||(this.state.viewport.width=t,this.state.viewport.height=n,this.state.viewport.x=i,this.state.viewport.y=s,this.gl.viewport(i,s,t,n))}setScissor(t,n,i=0,s=0){this.gl.scissor(i,s,t,n)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,n,i,s){this.state.blendFunc.src===t&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=t,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(t,n,i,s):this.gl.blendFunc(t,n))}setBlendEquation(t,n){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(t,n):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,n,i){this.state.stencilFunc===t&&this.state.stencilRef===n&&this.state.stencilFuncMask===i||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(t||this.gl.ALWAYS,n||0,i||0))}setStencilOp(t,n,i){this.state.stencilFail===t&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===i||(this.state.stencilFail=t,this.state.stencilDepthFail=n,this.state.stencilDepthPass=i,this.gl.stencilOp(t,n,i))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(t,n))}getExtension(t,n,i){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),n?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:t.zDepth!==n.zDepth?t.zDepth-n.zDepth:n.id-t.id}sortTransparent(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.zDepth!==n.zDepth?n.zDepth-t.zDepth:n.id-t.id}sortUI(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:n.id-t.id}getRenderList({scene:t,camera:n,frustumCull:i,sort:s}){let r=[];if(n&&i&&n.updateFrustum(),t.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||r.push(o))}),s){const o=[],a=[],l=[];r.forEach(u=>{u.program.transparent?u.program.depthTest?a.push(u):l.push(u):o.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!n)&&(u.worldMatrix.getTranslation(an),an.applyMatrix4(n.projectionViewMatrix),u.zDepth=an.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),r=o.concat(a,l)}return r}render({scene:t,camera:n,target:i=null,update:s=!0,sort:r=!0,frustumCull:o=!0,clear:a}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&t.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:t,camera:n,frustumCull:o,sort:r}).forEach(u=>{u.draw({camera:n})})}}function Ch(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Rh(e,t,n,i,s){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e}function Vh(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=n*n+i*i+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=i*o,e[2]=s*o,e[3]=r*o,e}function Dh(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Lh(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function kh(e,t,n){n=n*.5;let i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function Ts(e,t,n){let i=t[0],s=t[1],r=t[2],o=t[3],a=n[0],l=n[1],u=n[2],h=n[3];return e[0]=i*h+o*a+s*u-r*l,e[1]=s*h+o*l+r*a-i*u,e[2]=r*h+o*u+i*l-s*a,e[3]=o*h-i*a-s*l-r*u,e}function Fh(e,t,n){n*=.5;let i=t[0],s=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=i*l+o*a,e[1]=s*l+r*a,e[2]=r*l-s*a,e[3]=o*l-i*a,e}function Oh(e,t,n){n*=.5;let i=t[0],s=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=i*l-r*a,e[1]=s*l+o*a,e[2]=r*l+i*a,e[3]=o*l-s*a,e}function Ih(e,t,n){n*=.5;let i=t[0],s=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=i*l+s*a,e[1]=s*l-i*a,e[2]=r*l+o*a,e[3]=o*l-r*a,e}function Bh(e,t,n,i){let s=t[0],r=t[1],o=t[2],a=t[3],l=n[0],u=n[1],h=n[2],c=n[3],f,d,p,y,g;return d=s*l+r*u+o*h+a*c,d<0&&(d=-d,l=-l,u=-u,h=-h,c=-c),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),y=Math.sin((1-i)*f)/p,g=Math.sin(i*f)/p):(y=1-i,g=i),e[0]=y*s+g*l,e[1]=y*r+g*u,e[2]=y*o+g*h,e[3]=y*a+g*c,e}function $h(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=n*n+i*i+s*s+r*r,a=o?1/o:0;return e[0]=-n*a,e[1]=-i*a,e[2]=-s*a,e[3]=r*a,e}function Nh(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function jh(e,t){let n=t[0]+t[4]+t[8],i;if(n>0)i=Math.sqrt(n+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{let s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);let r=(s+1)%3,o=(s+2)%3;i=Math.sqrt(t[s*3+s]-t[r*3+r]-t[o*3+o]+1),e[s]=.5*i,i=.5/i,e[3]=(t[r*3+o]-t[o*3+r])*i,e[r]=(t[r*3+s]+t[s*3+r])*i,e[o]=(t[o*3+s]+t[s*3+o])*i}return e}function Uh(e,t,n="YXZ"){let i=Math.sin(t[0]*.5),s=Math.cos(t[0]*.5),r=Math.sin(t[1]*.5),o=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return n==="XYZ"?(e[0]=i*o*l+s*r*a,e[1]=s*r*l-i*o*a,e[2]=s*o*a+i*r*l,e[3]=s*o*l-i*r*a):n==="YXZ"?(e[0]=i*o*l+s*r*a,e[1]=s*r*l-i*o*a,e[2]=s*o*a-i*r*l,e[3]=s*o*l+i*r*a):n==="ZXY"?(e[0]=i*o*l-s*r*a,e[1]=s*r*l+i*o*a,e[2]=s*o*a+i*r*l,e[3]=s*o*l-i*r*a):n==="ZYX"?(e[0]=i*o*l-s*r*a,e[1]=s*r*l+i*o*a,e[2]=s*o*a-i*r*l,e[3]=s*o*l+i*r*a):n==="YZX"?(e[0]=i*o*l+s*r*a,e[1]=s*r*l+i*o*a,e[2]=s*o*a-i*r*l,e[3]=s*o*l-i*r*a):n==="XZY"&&(e[0]=i*o*l-s*r*a,e[1]=s*r*l-i*o*a,e[2]=s*o*a+i*r*l,e[3]=s*o*l+i*r*a),e}const zh=Ch,Wh=Rh,Hh=Dh,Kh=Vh;class Gh extends Array{constructor(t=0,n=0,i=0,s=1){super(t,n,i,s),this.onChange=()=>{},this._target=this;const r=["0","1","2","3"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&r.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return Lh(this._target),this.onChange(),this}set(t,n,i,s){return t.length?this.copy(t):(Wh(this._target,t,n,i,s),this.onChange(),this)}rotateX(t){return Fh(this._target,this._target,t),this.onChange(),this}rotateY(t){return Oh(this._target,this._target,t),this.onChange(),this}rotateZ(t){return Ih(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return $h(this._target,t),this.onChange(),this}conjugate(t=this._target){return Nh(this._target,t),this.onChange(),this}copy(t){return zh(this._target,t),this.onChange(),this}normalize(t=this._target){return Kh(this._target,t),this.onChange(),this}multiply(t,n){return n?Ts(this._target,t,n):Ts(this._target,this._target,t),this.onChange(),this}dot(t){return Hh(this._target,t)}fromMatrix3(t){return jh(this._target,t),this.onChange(),this}fromEuler(t,n){return Uh(this._target,t,t.order),n||this.onChange(),this}fromAxisAngle(t,n){return kh(this._target,t,n),this.onChange(),this}slerp(t,n){return Bh(this._target,this._target,t,n),this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this._target[3]=t[n+3],this.onChange(),this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t}}const qh=1e-6;function Xh(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Yh(e,t,n,i,s,r,o,a,l,u,h,c,f,d,p,y,g){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e[4]=r,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e[9]=h,e[10]=c,e[11]=f,e[12]=d,e[13]=p,e[14]=y,e[15]=g,e}function Zh(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qh(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=t[9],f=t[10],d=t[11],p=t[12],y=t[13],g=t[14],m=t[15],_=n*a-i*o,v=n*l-s*o,w=n*u-r*o,x=i*l-s*a,b=i*u-r*a,S=s*u-r*l,T=h*y-c*p,P=h*g-f*p,M=h*m-d*p,V=c*g-f*y,L=c*m-d*y,z=f*m-d*g,C=_*z-v*L+w*V+x*M-b*P+S*T;return C?(C=1/C,e[0]=(a*z-l*L+u*V)*C,e[1]=(s*L-i*z-r*V)*C,e[2]=(y*S-g*b+m*x)*C,e[3]=(f*b-c*S-d*x)*C,e[4]=(l*M-o*z-u*P)*C,e[5]=(n*z-s*M+r*P)*C,e[6]=(g*w-p*S-m*v)*C,e[7]=(h*S-f*w+d*v)*C,e[8]=(o*L-a*M+u*T)*C,e[9]=(i*M-n*L-r*T)*C,e[10]=(p*b-y*w+m*_)*C,e[11]=(c*w-h*b-d*_)*C,e[12]=(a*P-o*V-l*T)*C,e[13]=(n*V-i*P+s*T)*C,e[14]=(y*v-p*x-g*_)*C,e[15]=(h*x-c*v+f*_)*C,e):null}function Eo(e){let t=e[0],n=e[1],i=e[2],s=e[3],r=e[4],o=e[5],a=e[6],l=e[7],u=e[8],h=e[9],c=e[10],f=e[11],d=e[12],p=e[13],y=e[14],g=e[15],m=t*o-n*r,_=t*a-i*r,v=t*l-s*r,w=n*a-i*o,x=n*l-s*o,b=i*l-s*a,S=u*p-h*d,T=u*y-c*d,P=u*g-f*d,M=h*y-c*p,V=h*g-f*p,L=c*g-f*y;return m*L-_*V+v*M+w*P-x*T+b*S}function Ss(e,t,n){let i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],y=t[12],g=t[13],m=t[14],_=t[15],v=n[0],w=n[1],x=n[2],b=n[3];return e[0]=v*i+w*a+x*c+b*y,e[1]=v*s+w*l+x*f+b*g,e[2]=v*r+w*u+x*d+b*m,e[3]=v*o+w*h+x*p+b*_,v=n[4],w=n[5],x=n[6],b=n[7],e[4]=v*i+w*a+x*c+b*y,e[5]=v*s+w*l+x*f+b*g,e[6]=v*r+w*u+x*d+b*m,e[7]=v*o+w*h+x*p+b*_,v=n[8],w=n[9],x=n[10],b=n[11],e[8]=v*i+w*a+x*c+b*y,e[9]=v*s+w*l+x*f+b*g,e[10]=v*r+w*u+x*d+b*m,e[11]=v*o+w*h+x*p+b*_,v=n[12],w=n[13],x=n[14],b=n[15],e[12]=v*i+w*a+x*c+b*y,e[13]=v*s+w*l+x*f+b*g,e[14]=v*r+w*u+x*d+b*m,e[15]=v*o+w*h+x*p+b*_,e}function Jh(e,t,n){let i=n[0],s=n[1],r=n[2],o,a,l,u,h,c,f,d,p,y,g,m;return t===e?(e[12]=t[0]*i+t[4]*s+t[8]*r+t[12],e[13]=t[1]*i+t[5]*s+t[9]*r+t[13],e[14]=t[2]*i+t[6]*s+t[10]*r+t[14],e[15]=t[3]*i+t[7]*s+t[11]*r+t[15]):(o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5],f=t[6],d=t[7],p=t[8],y=t[9],g=t[10],m=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=u,e[4]=h,e[5]=c,e[6]=f,e[7]=d,e[8]=p,e[9]=y,e[10]=g,e[11]=m,e[12]=o*i+h*s+p*r+t[12],e[13]=a*i+c*s+y*r+t[13],e[14]=l*i+f*s+g*r+t[14],e[15]=u*i+d*s+m*r+t[15]),e}function tc(e,t,n){let i=n[0],s=n[1],r=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ec(e,t,n,i){let s=i[0],r=i[1],o=i[2],a=Math.hypot(s,r,o),l,u,h,c,f,d,p,y,g,m,_,v,w,x,b,S,T,P,M,V,L,z,C,gt;return Math.abs(a)<qh?null:(a=1/a,s*=a,r*=a,o*=a,l=Math.sin(n),u=Math.cos(n),h=1-u,c=t[0],f=t[1],d=t[2],p=t[3],y=t[4],g=t[5],m=t[6],_=t[7],v=t[8],w=t[9],x=t[10],b=t[11],S=s*s*h+u,T=r*s*h+o*l,P=o*s*h-r*l,M=s*r*h-o*l,V=r*r*h+u,L=o*r*h+s*l,z=s*o*h+r*l,C=r*o*h-s*l,gt=o*o*h+u,e[0]=c*S+y*T+v*P,e[1]=f*S+g*T+w*P,e[2]=d*S+m*T+x*P,e[3]=p*S+_*T+b*P,e[4]=c*M+y*V+v*L,e[5]=f*M+g*V+w*L,e[6]=d*M+m*V+x*L,e[7]=p*M+_*V+b*L,e[8]=c*z+y*C+v*gt,e[9]=f*z+g*C+w*gt,e[10]=d*z+m*C+x*gt,e[11]=p*z+_*C+b*gt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function nc(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Co(e,t){let n=t[0],i=t[1],s=t[2],r=t[4],o=t[5],a=t[6],l=t[8],u=t[9],h=t[10];return e[0]=Math.hypot(n,i,s),e[1]=Math.hypot(r,o,a),e[2]=Math.hypot(l,u,h),e}function ic(e){let t=e[0],n=e[1],i=e[2],s=e[4],r=e[5],o=e[6],a=e[8],l=e[9],u=e[10];const h=t*t+n*n+i*i,c=s*s+r*r+o*o,f=a*a+l*l+u*u;return Math.sqrt(Math.max(h,c,f))}const Ro=(function(){const e=[1,1,1];return function(t,n){let i=e;Co(i,n);let s=1/i[0],r=1/i[1],o=1/i[2],a=n[0]*s,l=n[1]*r,u=n[2]*o,h=n[4]*s,c=n[5]*r,f=n[6]*o,d=n[8]*s,p=n[9]*r,y=n[10]*o,g=a+c+y,m=0;return g>0?(m=Math.sqrt(g+1)*2,t[3]=.25*m,t[0]=(f-p)/m,t[1]=(d-u)/m,t[2]=(l-h)/m):a>c&&a>y?(m=Math.sqrt(1+a-c-y)*2,t[3]=(f-p)/m,t[0]=.25*m,t[1]=(l+h)/m,t[2]=(d+u)/m):c>y?(m=Math.sqrt(1+c-a-y)*2,t[3]=(d-u)/m,t[0]=(l+h)/m,t[1]=.25*m,t[2]=(f+p)/m):(m=Math.sqrt(1+y-a-c)*2,t[3]=(l-h)/m,t[0]=(d+u)/m,t[1]=(f+p)/m,t[2]=.25*m),t}})();function sc(e,t,n,i){let s=te([e[0],e[1],e[2]]);const r=te([e[4],e[5],e[6]]),o=te([e[8],e[9],e[10]]);Eo(e)<0&&(s=-s),n[0]=e[12],n[1]=e[13],n[2]=e[14];const l=e.slice(),u=1/s,h=1/r,c=1/o;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=h,l[5]*=h,l[6]*=h,l[8]*=c,l[9]*=c,l[10]*=c,Ro(t,l),i[0]=s,i[1]=r,i[2]=o}function rc(e,t,n,i){const s=e,r=t[0],o=t[1],a=t[2],l=t[3],u=r+r,h=o+o,c=a+a,f=r*u,d=r*h,p=r*c,y=o*h,g=o*c,m=a*c,_=l*u,v=l*h,w=l*c,x=i[0],b=i[1],S=i[2];return s[0]=(1-(y+m))*x,s[1]=(d+w)*x,s[2]=(p-v)*x,s[3]=0,s[4]=(d-w)*b,s[5]=(1-(f+m))*b,s[6]=(g+_)*b,s[7]=0,s[8]=(p+v)*S,s[9]=(g-_)*S,s[10]=(1-(f+y))*S,s[11]=0,s[12]=n[0],s[13]=n[1],s[14]=n[2],s[15]=1,s}function oc(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=n+n,a=i+i,l=s+s,u=n*o,h=i*o,c=i*a,f=s*o,d=s*a,p=s*l,y=r*o,g=r*a,m=r*l;return e[0]=1-c-p,e[1]=h+m,e[2]=f-g,e[3]=0,e[4]=h-m,e[5]=1-u-p,e[6]=d+y,e[7]=0,e[8]=f+g,e[9]=d-y,e[10]=1-u-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ac(e,t,n,i,s){let r=1/Math.tan(t/2),o=1/(i-s);return e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+i)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*i*o,e[15]=0,e}function lc(e,t,n,i,s,r,o){let a=1/(t-n),l=1/(i-s),u=1/(r-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(s+i)*l,e[14]=(o+r)*u,e[15]=1,e}function uc(e,t,n,i){let s=t[0],r=t[1],o=t[2],a=i[0],l=i[1],u=i[2],h=s-n[0],c=r-n[1],f=o-n[2],d=h*h+c*c+f*f;d===0?f=1:(d=1/Math.sqrt(d),h*=d,c*=d,f*=d);let p=l*f-u*c,y=u*h-a*f,g=a*c-l*h;return d=p*p+y*y+g*g,d===0&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,p=l*f-u*c,y=u*h-a*f,g=a*c-l*h,d=p*p+y*y+g*g),d=1/Math.sqrt(d),p*=d,y*=d,g*=d,e[0]=p,e[1]=y,e[2]=g,e[3]=0,e[4]=c*g-f*y,e[5]=f*p-h*g,e[6]=h*y-c*p,e[7]=0,e[8]=h,e[9]=c,e[10]=f,e[11]=0,e[12]=s,e[13]=r,e[14]=o,e[15]=1,e}function Ps(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function As(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function hc(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}class vt extends Array{constructor(t=1,n=0,i=0,s=0,r=0,o=1,a=0,l=0,u=0,h=0,c=1,f=0,d=0,p=0,y=0,g=1){return super(t,n,i,s,r,o,a,l,u,h,c,f,d,p,y,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,n,i,s,r,o,a,l,u,h,c,f,d,p,y,g){return t.length?this.copy(t):(Yh(this,t,n,i,s,r,o,a,l,u,h,c,f,d,p,y,g),this)}translate(t,n=this){return Jh(this,n,t),this}rotate(t,n,i=this){return ec(this,i,t,n),this}scale(t,n=this){return tc(this,n,typeof t=="number"?[t,t,t]:t),this}add(t,n){return n?Ps(this,t,n):Ps(this,this,t),this}sub(t,n){return n?As(this,t,n):As(this,this,t),this}multiply(t,n){return t.length?n?Ss(this,t,n):Ss(this,this,t):hc(this,this,t),this}identity(){return Zh(this),this}copy(t){return Xh(this,t),this}fromPerspective({fov:t,aspect:n,near:i,far:s}={}){return ac(this,t,n,i,s),this}fromOrthogonal({left:t,right:n,bottom:i,top:s,near:r,far:o}){return lc(this,t,n,i,s,r,o),this}fromQuaternion(t){return oc(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return Qh(this,t),this}compose(t,n,i){return rc(this,t,n,i),this}decompose(t,n,i){return sc(this,t,n,i),this}getRotation(t){return Ro(t,this),this}getTranslation(t){return nc(t,this),this}getScaling(t){return Co(t,this),this}getMaxScaleOnAxis(){return ic(this)}lookAt(t,n,i){return uc(this,t,n,i),this}determinant(){return Eo(this)}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this[3]=t[n+3],this[4]=t[n+4],this[5]=t[n+5],this[6]=t[n+6],this[7]=t[n+7],this[8]=t[n+8],this[9]=t[n+9],this[10]=t[n+10],this[11]=t[n+11],this[12]=t[n+12],this[13]=t[n+13],this[14]=t[n+14],this[15]=t[n+15],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t[n+4]=this[4],t[n+5]=this[5],t[n+6]=this[6],t[n+7]=this[7],t[n+8]=this[8],t[n+9]=this[9],t[n+10]=this[10],t[n+11]=this[11],t[n+12]=this[12],t[n+13]=this[13],t[n+14]=this[14],t[n+15]=this[15],t}}function cc(e,t,n="YXZ"){return n==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):n==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):n==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):n==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):n==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):n==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const Ms=new vt;class fc extends Array{constructor(t=0,n=t,i=t,s="YXZ"){super(t,n,i),this.order=s,this.onChange=()=>{},this._target=this;const r=["0","1","2"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&r.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,n=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=n,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,n=this.order){return cc(this._target,t,n),this.onChange(),this}fromQuaternion(t,n=this.order,i){return Ms.fromQuaternion(t),this._target.fromRotationMatrix(Ms,n),i||this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}}class Vo{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new vt,this.worldMatrix=new vt,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new U,this.quaternion=new Gh,this.scale=new U(1),this.rotation=new fc,this.up=new U(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,n=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,n&&t&&t.addChild(this,!1)}addChild(t,n=!0){~this.children.indexOf(t)||this.children.push(t),n&&t.setParent(this,!1)}removeChild(t,n=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),n&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let n=0,i=this.children.length;n<i;n++)this.children[n].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let n=0,i=this.children.length;n<i;n++)this.children[n].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,n=!1){n?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const dc=new vt,pc=new U,mc=new U;class gg extends Vo{constructor(t,{near:n=.1,far:i=100,fov:s=45,aspect:r=1,left:o,right:a,bottom:l,top:u,zoom:h=1}={}){super(),Object.assign(this,{near:n,far:i,fov:s,aspect:r,left:o,right:a,bottom:l,top:u,zoom:h}),this.projectionMatrix=new vt,this.viewMatrix=new vt,this.projectionViewMatrix=new vt,this.worldPosition=new U,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:n=this.far,fov:i=this.fov,aspect:s=this.aspect}={}){return Object.assign(this,{near:t,far:n,fov:i,aspect:s}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:s,near:t,far:n}),this.type="perspective",this}orthographic({near:t=this.near,far:n=this.far,left:i=this.left||-1,right:s=this.right||1,bottom:r=this.bottom||-1,top:o=this.top||1,zoom:a=this.zoom}={}){return Object.assign(this,{near:t,far:n,left:i,right:s,bottom:r,top:o,zoom:a}),i/=a,s/=a,r/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:i,right:s,bottom:r,top:o,near:t,far:n}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(dc.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new U,new U,new U,new U,new U,new U]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let n=0;n<6;n++){const i=1/this.frustum[n].distance();this.frustum[n].multiply(i),this.frustum[n].constant*=i}}frustumIntersectsMesh(t,n=t.worldMatrix){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;const i=pc;i.copy(t.geometry.bounds.center),i.applyMatrix4(n);const s=t.geometry.bounds.radius*n.getMaxScaleOnAxis();return this.frustumIntersectsSphere(i,s)}frustumIntersectsSphere(t,n){const i=mc;for(let s=0;s<6;s++){const r=this.frustum[s];if(i.copy(r).dot(t)+r.constant<-n)return!1}return!0}}function gc(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function yc(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=n+n,a=i+i,l=s+s,u=n*o,h=i*o,c=i*a,f=s*o,d=s*a,p=s*l,y=r*o,g=r*a,m=r*l;return e[0]=1-c-p,e[3]=h-m,e[6]=f+g,e[1]=h+m,e[4]=1-u-p,e[7]=d-y,e[2]=f-g,e[5]=d+y,e[8]=1-u-c,e}function _c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function vc(e,t,n,i,s,r,o,a,l,u){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e[4]=r,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e}function xc(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function wc(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=h*o-a*u,f=-h*r+a*l,d=u*r-o*l,p=n*c+i*f+s*d;return p?(p=1/p,e[0]=c*p,e[1]=(-h*i+s*u)*p,e[2]=(a*i-s*o)*p,e[3]=f*p,e[4]=(h*n-s*l)*p,e[5]=(-a*n+s*r)*p,e[6]=d*p,e[7]=(-u*n+i*l)*p,e[8]=(o*n-i*r)*p,e):null}function Es(e,t,n){let i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=n[0],d=n[1],p=n[2],y=n[3],g=n[4],m=n[5],_=n[6],v=n[7],w=n[8];return e[0]=f*i+d*o+p*u,e[1]=f*s+d*a+p*h,e[2]=f*r+d*l+p*c,e[3]=y*i+g*o+m*u,e[4]=y*s+g*a+m*h,e[5]=y*r+g*l+m*c,e[6]=_*i+v*o+w*u,e[7]=_*s+v*a+w*h,e[8]=_*r+v*l+w*c,e}function bc(e,t,n){let i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=n[0],d=n[1];return e[0]=i,e[1]=s,e[2]=r,e[3]=o,e[4]=a,e[5]=l,e[6]=f*i+d*o+u,e[7]=f*s+d*a+h,e[8]=f*r+d*l+c,e}function Tc(e,t,n){let i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=Math.sin(n),d=Math.cos(n);return e[0]=d*i+f*o,e[1]=d*s+f*a,e[2]=d*r+f*l,e[3]=d*o-f*i,e[4]=d*a-f*s,e[5]=d*l-f*r,e[6]=u,e[7]=h,e[8]=c,e}function Sc(e,t,n){let i=n[0],s=n[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Pc(e,t){let n=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=t[9],f=t[10],d=t[11],p=t[12],y=t[13],g=t[14],m=t[15],_=n*a-i*o,v=n*l-s*o,w=n*u-r*o,x=i*l-s*a,b=i*u-r*a,S=s*u-r*l,T=h*y-c*p,P=h*g-f*p,M=h*m-d*p,V=c*g-f*y,L=c*m-d*y,z=f*m-d*g,C=_*z-v*L+w*V+x*M-b*P+S*T;return C?(C=1/C,e[0]=(a*z-l*L+u*V)*C,e[1]=(l*M-o*z-u*P)*C,e[2]=(o*L-a*M+u*T)*C,e[3]=(s*L-i*z-r*V)*C,e[4]=(n*z-s*M+r*P)*C,e[5]=(i*M-n*L-r*T)*C,e[6]=(y*S-g*b+m*x)*C,e[7]=(g*w-p*S-m*v)*C,e[8]=(p*b-y*w+m*_)*C,e):null}class Ac extends Array{constructor(t=1,n=0,i=0,s=0,r=1,o=0,a=0,l=0,u=1){return super(t,n,i,s,r,o,a,l,u),this}set(t,n,i,s,r,o,a,l,u){return t.length?this.copy(t):(vc(this,t,n,i,s,r,o,a,l,u),this)}translate(t,n=this){return bc(this,n,t),this}rotate(t,n=this){return Tc(this,n,t),this}scale(t,n=this){return Sc(this,n,t),this}multiply(t,n){return n?Es(this,t,n):Es(this,this,t),this}identity(){return xc(this),this}copy(t){return _c(this,t),this}fromMatrix4(t){return gc(this,t),this}fromQuaternion(t){return yc(this,t),this}fromBasis(t,n,i){return this.set(t[0],t[1],t[2],n[0],n[1],n[2],i[0],i[1],i[2]),this}inverse(t=this){return wc(this,t),this}getNormalMatrix(t){return Pc(this,t),this}}let Mc=0;class yg extends Vo{constructor(t,{geometry:n,program:i,mode:s=t.TRIANGLES,frustumCulled:r=!0,renderOrder:o=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Mc++,this.geometry=n,this.program=i,this.mode=s,this.frustumCulled=r,this.renderOrder=o,this.modelViewMatrix=new vt,this.normalMatrix=new Ac,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}}const Cs={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Rs(e){e.length===4&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function Ec(e){return e=parseInt(e),[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255]}function Vs(e){return e===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(e)?e[0]==="#"?Rs(e):Cs[e.toLowerCase()]?Rs(Cs[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Ec(e)}class _g extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...Vs(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(Vs(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}class vg extends Th{constructor(t,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,n)}}const Do=W({});function Cc(e){const t=_t(null);return t.current===null&&(t.current=e()),t.current}const ci=typeof window<"u",Rc=ci?Ke:zt,fi=W(null);function di(e,t){e.indexOf(t)===-1&&e.push(t)}function pi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const dt=(e,t,n)=>n>t?t:n<e?e:n;let mi=()=>{};const pt={},Lo=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ko(e){return typeof e=="object"&&e!==null}const Fo=e=>/^0[^.\s]+$/u.test(e);function gi(e){let t;return()=>(t===void 0&&(t=e()),t)}const nt=e=>e,Vc=(e,t)=>n=>t(e(n)),ve=(...e)=>e.reduce(Vc),ue=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class yi{constructor(){this.subscriptions=[]}add(t){return di(this.subscriptions,t),()=>pi(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ot=e=>e*1e3,et=e=>e/1e3;function Oo(e,t){return t?e*(1e3/t):0}const Io=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Dc=1e-7,Lc=12;function kc(e,t,n,i,s){let r,o,a=0;do o=t+(n-t)/2,r=Io(o,i,s)-e,r>0?n=o:t=o;while(Math.abs(r)>Dc&&++a<Lc);return o}function xe(e,t,n,i){if(e===t&&n===i)return nt;const s=r=>kc(r,0,1,e,n);return r=>r===0||r===1?r:Io(s(r),t,i)}const Bo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$o=e=>t=>1-e(1-t),No=xe(.33,1.53,.69,.99),_i=$o(No),jo=Bo(_i),Uo=e=>(e*=2)<1?.5*_i(e):.5*(2-Math.pow(2,-10*(e-1))),vi=e=>1-Math.sin(Math.acos(e)),zo=$o(vi),Wo=Bo(vi),Fc=xe(.42,0,1,1),Oc=xe(0,0,.58,1),Ho=xe(.42,0,.58,1),Ic=e=>Array.isArray(e)&&typeof e[0]!="number",Ko=e=>Array.isArray(e)&&typeof e[0]=="number",Bc={linear:nt,easeIn:Fc,easeInOut:Ho,easeOut:Oc,circIn:vi,circInOut:Wo,circOut:zo,backIn:_i,backInOut:jo,backOut:No,anticipate:Uo},$c=e=>typeof e=="string",Ds=e=>{if(Ko(e)){mi(e.length===4);const[t,n,i,s]=e;return xe(t,n,i,s)}else if($c(e))return Bc[e];return e},Ae=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nc(e,t){let n=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),e()),h(a)}const u={schedule:(h,c=!1,f=!1)=>{const p=f&&s?n:i;return c&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(l),n.clear(),s=!1,r&&(r=!1,u.process(h))}};return u}const jc=40;function Go(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Ae.reduce((v,w)=>(v[w]=Nc(r),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:c,preRender:f,render:d,postRender:p}=o,y=()=>{const v=pt.useManualTiming?s.timestamp:performance.now();n=!1,pt.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(v-s.timestamp,jc),1)),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),c.process(s),f.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(y))},g=()=>{n=!0,i=!0,s.isProcessing||e(y)};return{schedule:Ae.reduce((v,w)=>{const x=o[w];return v[w]=(b,S=!1,T=!1)=>(n||g(),x.schedule(b,S,T)),v},{}),cancel:v=>{for(let w=0;w<Ae.length;w++)o[Ae[w]].cancel(v)},state:s,steps:o}}const{schedule:F,cancel:wt,state:K,steps:ln}=Go(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0);let Le;function Uc(){Le=void 0}const Y={now:()=>(Le===void 0&&Y.set(K.isProcessing||pt.useManualTiming?K.timestamp:performance.now()),Le),set:e=>{Le=e,queueMicrotask(Uc)}},qo=e=>t=>typeof t=="string"&&t.startsWith(e),xi=qo("--"),zc=qo("var(--"),wi=e=>zc(e)?Wc.test(e.split("/*")[0].trim()):!1,Wc=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},he={...qt,transform:e=>dt(0,1,e)},Me={...qt,default:1},ee=e=>Math.round(e*1e5)/1e5,bi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hc(e){return e==null}const Kc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ti=(e,t)=>n=>!!(typeof n=="string"&&Kc.test(n)&&n.startsWith(e)||t&&!Hc(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xo=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(bi);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gc=e=>dt(0,255,e),un={...qt,transform:e=>Math.round(Gc(e))},Et={test:Ti("rgb","red"),parse:Xo("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+un.transform(e)+", "+un.transform(t)+", "+un.transform(n)+", "+ee(he.transform(i))+")"};function qc(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const kn={test:Ti("#"),parse:qc,transform:Et.transform},we=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yt=we("deg"),at=we("%"),A=we("px"),Xc=we("vh"),Yc=we("vw"),Ls={...at,parse:e=>at.parse(e)/100,transform:e=>at.transform(e*100)},Ot={test:Ti("hsl","hue"),parse:Xo("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+at.transform(ee(t))+", "+at.transform(ee(n))+", "+ee(he.transform(i))+")"},j={test:e=>Et.test(e)||kn.test(e)||Ot.test(e),parse:e=>Et.test(e)?Et.parse(e):Ot.test(e)?Ot.parse(e):kn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Et.transform(e):Ot.transform(e),getAnimatableNone:e=>{const t=j.parse(e);return t.alpha=0,j.transform(t)}},Zc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qc(e){return isNaN(e)&&typeof e=="string"&&(e.match(bi)?.length||0)+(e.match(Zc)?.length||0)>0}const Yo="number",Zo="color",Jc="var",tf="var(",ks="${}",ef=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ce(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=t.replace(ef,l=>(j.test(l)?(i.color.push(r),s.push(Zo),n.push(j.parse(l))):l.startsWith(tf)?(i.var.push(r),s.push(Jc),n.push(l)):(i.number.push(r),s.push(Yo),n.push(parseFloat(l))),++r,ks)).split(ks);return{values:n,split:a,indexes:i,types:s}}function Qo(e){return ce(e).values}function Jo(e){const{split:t,types:n}=ce(e),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const a=n[o];a===Yo?r+=ee(s[o]):a===Zo?r+=j.transform(s[o]):r+=s[o]}return r}}const nf=e=>typeof e=="number"?0:j.test(e)?j.getAnimatableNone(e):e;function sf(e){const t=Qo(e);return Jo(e)(t.map(nf))}const bt={test:Qc,parse:Qo,createTransformer:Jo,getAnimatableNone:sf};function hn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rf({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,o=0;if(!t)s=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=hn(l,a,e+1/3),r=hn(l,a,e),o=hn(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function Ne(e,t){return n=>n>0?t:e}const O=(e,t,n)=>e+(t-e)*n,cn=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},of=[kn,Et,Ot],af=e=>of.find(t=>t.test(e));function Fs(e){const t=af(e);if(!t)return!1;let n=t.parse(e);return t===Ot&&(n=rf(n)),n}const Os=(e,t)=>{const n=Fs(e),i=Fs(t);if(!n||!i)return Ne(e,t);const s={...n};return r=>(s.red=cn(n.red,i.red,r),s.green=cn(n.green,i.green,r),s.blue=cn(n.blue,i.blue,r),s.alpha=O(n.alpha,i.alpha,r),Et.transform(s))},Fn=new Set(["none","hidden"]);function lf(e,t){return Fn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uf(e,t){return n=>O(e,t,n)}function Si(e){return typeof e=="number"?uf:typeof e=="string"?wi(e)?Ne:j.test(e)?Os:ff:Array.isArray(e)?ta:typeof e=="object"?j.test(e)?Os:hf:Ne}function ta(e,t){const n=[...e],i=n.length,s=e.map((r,o)=>Si(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function hf(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Si(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function cf(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],o=e.indexes[r][i[r]],a=e.values[o]??0;n[s]=a,i[r]++}return n}const ff=(e,t)=>{const n=bt.createTransformer(t),i=ce(e),s=ce(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Fn.has(e)&&!s.values.length||Fn.has(t)&&!i.values.length?lf(e,t):ve(ta(cf(i,s),s.values),n):Ne(e,t)};function ea(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?O(e,t,n):Si(e)(e,t)}const df=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>F.update(t,n),stop:()=>wt(t),now:()=>K.isProcessing?K.timestamp:Y.now()}},na=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},je=2e4;function Pi(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<je;)t+=n,i=e.next(t);return t>=je?1/0:t}function pf(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Pi(i),je);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:et(s)}}const mf=5;function ia(e,t,n){const i=Math.max(t-mf,0);return Oo(n-e(i),t-i)}const B={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fn=.001;function gf({duration:e=B.duration,bounce:t=B.bounce,velocity:n=B.velocity,mass:i=B.mass}){let s,r,o=1-t;o=dt(B.minDamping,B.maxDamping,o),e=dt(B.minDuration,B.maxDuration,et(e)),o<1?(s=u=>{const h=u*o,c=h*e,f=h-n,d=On(u,o),p=Math.exp(-c);return fn-f/d*p},r=u=>{const c=u*o*e,f=c*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-c),y=On(Math.pow(u,2),o);return(-s(u)+fn>0?-1:1)*((f-d)*p)/y}):(s=u=>{const h=Math.exp(-u*e),c=(u-n)*e+1;return-fn+h*c},r=u=>{const h=Math.exp(-u*e),c=(n-u)*(e*e);return h*c});const a=5/e,l=_f(s,r,a);if(e=ot(e),isNaN(l))return{stiffness:B.stiffness,damping:B.damping,duration:e};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const yf=12;function _f(e,t,n){let i=n;for(let s=1;s<yf;s++)i=i-e(i)/t(i);return i}function On(e,t){return e*Math.sqrt(1-t*t)}const vf=["duration","bounce"],xf=["stiffness","damping","mass"];function Is(e,t){return t.some(n=>e[n]!==void 0)}function wf(e){let t={velocity:B.velocity,stiffness:B.stiffness,damping:B.damping,mass:B.mass,isResolvedFromDuration:!1,...e};if(!Is(e,xf)&&Is(e,vf))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*dt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:B.mass,stiffness:s,damping:r}}else{const n=gf(e);t={...t,...n,mass:B.mass},t.isResolvedFromDuration=!0}return t}function Ue(e=B.visualDuration,t=B.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:h,duration:c,velocity:f,isResolvedFromDuration:d}=wf({...n,velocity:-et(n.velocity||0)}),p=f||0,y=u/(2*Math.sqrt(l*h)),g=o-r,m=et(Math.sqrt(l/h)),_=Math.abs(g)<5;i||(i=_?B.restSpeed.granular:B.restSpeed.default),s||(s=_?B.restDelta.granular:B.restDelta.default);let v;if(y<1){const x=On(m,y);v=b=>{const S=Math.exp(-y*m*b);return o-S*((p+y*m*g)/x*Math.sin(x*b)+g*Math.cos(x*b))}}else if(y===1)v=x=>o-Math.exp(-m*x)*(g+(p+m*g)*x);else{const x=m*Math.sqrt(y*y-1);v=b=>{const S=Math.exp(-y*m*b),T=Math.min(x*b,300);return o-S*((p+y*m*g)*Math.sinh(T)+x*g*Math.cosh(T))/x}}const w={calculatedDuration:d&&c||null,next:x=>{const b=v(x);if(d)a.done=x>=c;else{let S=x===0?p:0;y<1&&(S=x===0?ot(p):ia(v,x,b));const T=Math.abs(S)<=i,P=Math.abs(o-b)<=s;a.done=T&&P}return a.value=a.done?o:b,a},toString:()=>{const x=Math.min(Pi(w),je),b=na(S=>w.next(x*S).value,x,30);return x+"ms "+b},toTransition:()=>{}};return w}Ue.applyToOptions=e=>{const t=pf(e,100,Ue);return e.ease=t.ease,e.duration=ot(t.duration),e.type="keyframes",e};function In({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const c=e[0],f={done:!1,value:c},d=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let y=n*t;const g=c+y,m=o===void 0?g:o(g);m!==g&&(y=m-c);const _=T=>-y*Math.exp(-T/i),v=T=>m+_(T),w=T=>{const P=_(T),M=v(T);f.done=Math.abs(P)<=u,f.value=f.done?m:M};let x,b;const S=T=>{d(f.value)&&(x=T,b=Ue({keyframes:[f.value,p(f.value)],velocity:ia(v,T,f.value),damping:s,stiffness:r,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:T=>{let P=!1;return!b&&x===void 0&&(P=!0,w(T),S(T)),x!==void 0&&T>=x?b.next(T-x):(!P&&w(T),f)}}}function bf(e,t,n){const i=[],s=n||pt.mix||ea,r=e.length-1;for(let o=0;o<r;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||nt:t;a=ve(l,a)}i.push(a)}return i}function Tf(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(mi(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=bf(t,i,s),l=a.length,u=h=>{if(o&&h<e[0])return t[0];let c=0;if(l>1)for(;c<e.length-2&&!(h<e[c+1]);c++);const f=ue(e[c],e[c+1],h);return a[c](f)};return n?h=>u(dt(e[0],e[r-1],h)):u}function Sf(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=ue(0,t,i);e.push(O(n,1,s))}}function Pf(e){const t=[0];return Sf(t,e.length-1),t}function Af(e,t){return e.map(n=>n*t)}function Mf(e,t){return e.map(()=>t||Ho).splice(0,e.length-1)}function ne({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=Ic(i)?i.map(Ds):Ds(i),r={done:!1,value:t[0]},o=Af(n&&n.length===t.length?n:Pf(t),e),a=Tf(o,t,{ease:Array.isArray(s)?s:Mf(t,s)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const Ef=e=>e!==null;function Ai(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(Ef),a=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const Cf={decay:In,inertia:In,tween:ne,keyframes:ne,spring:Ue};function sa(e){typeof e.type=="string"&&(e.type=Cf[e.type])}class Mi{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Rf=e=>e/100;class Ei extends Mi{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Y.now()&&this.tick(Y.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sa(t);const{type:n=ne,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=t;let{keyframes:a}=t;const l=n||ne;l!==ne&&typeof a[0]!="number"&&(this.mixKeyframes=ve(Rf,ea(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Pi(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:h,repeat:c,repeatType:f,repeatDelay:d,type:p,onUpdate:y,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let v=this.currentTime,w=i;if(c){const T=Math.min(this.currentTime,s)/a;let P=Math.floor(T),M=T%1;!M&&T>=1&&(M=1),M===1&&P--,P=Math.min(P,c+1),!!(P%2)&&(f==="reverse"?(M=1-M,d&&(M-=d/a)):f==="mirror"&&(w=o)),v=dt(0,1,M)*a}const x=_?{done:!1,value:h[0]}:w.next(v);r&&(x.value=r(x.value));let{done:b}=x;!_&&l!==null&&(b=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return S&&p!==In&&(x.value=Ai(h,this.options,g,this.speed)),y&&y(x.value),S&&this.finish(),x}then(t,n){return this.finished.then(t,n)}get duration(){return et(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+et(t)}get time(){return et(this.currentTime)}set time(t){t=ot(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Y.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=et(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=df,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Y.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Vf(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ct=e=>e*180/Math.PI,Bn=e=>{const t=Ct(Math.atan2(e[1],e[0]));return $n(t)},Df={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bn,rotateZ:Bn,skewX:e=>Ct(Math.atan(e[1])),skewY:e=>Ct(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$n=e=>(e=e%360,e<0&&(e+=360),e),Bs=Bn,$s=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ns=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$s,scaleY:Ns,scale:e=>($s(e)+Ns(e))/2,rotateX:e=>$n(Ct(Math.atan2(e[6],e[5]))),rotateY:e=>$n(Ct(Math.atan2(-e[2],e[0]))),rotateZ:Bs,rotate:Bs,skewX:e=>Ct(Math.atan(e[4])),skewY:e=>Ct(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Nn(e){return e.includes("scale")?1:0}function jn(e,t){if(!e||e==="none")return Nn(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=Lf,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Df,s=a}if(!s)return Nn(t);const r=i[t],o=s[1].split(",").map(Ff);return typeof r=="function"?r(o):o[r]}const kf=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return jn(n,t)};function Ff(e){return parseFloat(e.trim())}const Xt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yt=new Set(Xt),js=e=>e===qt||e===A,Of=new Set(["x","y","z"]),If=Xt.filter(e=>!Of.has(e));function Bf(e){const t=[];return If.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Rt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jn(t,"x"),y:(e,{transform:t})=>jn(t,"y")};Rt.translateX=Rt.x;Rt.translateY=Rt.y;const Vt=new Set;let Un=!1,zn=!1,Wn=!1;function ra(){if(zn){const e=Array.from(Vt).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=Bf(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{i.getValue(r)?.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zn=!1,Un=!1,Vt.forEach(e=>e.complete(Wn)),Vt.clear()}function oa(){Vt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zn=!0)})}function $f(){Wn=!0,oa(),ra(),Wn=!1}class Ci{constructor(t,n,i,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vt.add(this),Un||(Un=!0,F.read(oa),F.resolveKeyframes(ra))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s?.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const a=i.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&r===void 0&&s.set(t[0])}Vf(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vt.delete(this)}cancel(){this.state==="scheduled"&&(Vt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nf=e=>e.startsWith("--");function jf(e,t,n){Nf(t)?e.style.setProperty(t,n):e.style[t]=n}const Uf=gi(()=>window.ScrollTimeline!==void 0),zf={};function Wf(e,t){const n=gi(e);return()=>zf[t]??n()}const aa=Wf(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jt=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Us={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jt([0,.65,.55,1]),circOut:Jt([.55,0,1,.45]),backIn:Jt([.31,.01,.66,-.59]),backOut:Jt([.33,1.53,.69,.99])};function la(e,t){if(e)return typeof e=="function"?aa()?na(e,t):"ease-out":Ko(e)?Jt(e):Array.isArray(e)?e.map(n=>la(n,t)||Us.easeOut):Us[e]}function Hf(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[t]:n};l&&(h.offset=l);const c=la(a,s);Array.isArray(c)&&(h.easing=c);const f={delay:i,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(h,f)}function ua(e){return typeof e=="function"&&"applyToOptions"in e}function Kf({type:e,...t}){return ua(e)&&aa()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Gf extends Mi{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,mi(typeof t.type!="string");const u=Kf(t);this.animation=Hf(n,i,s,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=Ai(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):jf(n,i,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return et(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+et(t)}get time(){return et(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ot(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Uf()?(this.animation.timeline=t,nt):n(this)}}const ha={anticipate:Uo,backInOut:jo,circInOut:Wo};function qf(e){return e in ha}function Xf(e){typeof e.ease=="string"&&qf(e.ease)&&(e.ease=ha[e.ease])}const zs=10;class Yf extends Gf{constructor(t){Xf(t),sa(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Ei({...o,autoplay:!1}),l=ot(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-zs).value,a.sample(l).value,zs),a.stop()}}const Ws=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bt.test(e)||e==="0")&&!e.startsWith("url("));function Zf(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Qf(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=Ws(s,t),a=Ws(r,t);return!o||!a?!1:Zf(e)||(n==="spring"||ua(n))&&i}function Hn(e){e.duration=0,e.type="keyframes"}const Jf=new Set(["opacity","clipPath","filter","transform"]),td=gi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ed(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return td()&&n&&Jf.has(n)&&(n!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&r!==0&&o!=="inertia"}const nd=40;class id extends Mi{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Y.now();const f={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,name:l,motionValue:u,element:h,...c},d=h?.KeyframeResolver||Ci;this.keyframeResolver=new d(a,(p,y,g)=>this.onKeyframesResolved(p,y,f,!g),l,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=i;this.resolvedAt=Y.now(),Qf(t,r,o,a)||((pt.instantAnimations||!l)&&h?.(Ai(t,i,n)),t[0]=t[t.length-1],Hn(i),i.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>nd?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},d=!u&&ed(f)?new Yf({...f,element:f.motionValue.owner.current}):new Ei(f);d.finished.then(()=>this.notifyFinished()).catch(nt),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$f()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sd=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rd(e){const t=sd.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function ca(e,t,n=1){const[i,s]=rd(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return Lo(o)?parseFloat(o):o}return wi(s)?ca(s,t,n+1):s}function Ri(e,t){return e?.[t]??e?.default??e}const fa=new Set(["width","height","top","left","right","bottom",...Xt]),od={test:e=>e==="auto",parse:e=>e},da=e=>t=>t.test(e),pa=[qt,A,at,yt,Yc,Xc,od],Hs=e=>pa.find(da(e));function ad(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fo(e):!0}const ld=new Set(["brightness","contrast","saturate","opacity"]);function ud(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(bi)||[];if(!i)return e;const s=n.replace(i,"");let r=ld.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const hd=/\b([a-z-]*)\(.*?\)/gu,Kn={...bt,getAnimatableNone:e=>{const t=e.match(hd);return t?t.map(ud).join(" "):e}},Ks={...qt,transform:Math.round},cd={rotate:yt,rotateX:yt,rotateY:yt,rotateZ:yt,scale:Me,scaleX:Me,scaleY:Me,scaleZ:Me,skew:yt,skewX:yt,skewY:yt,distance:A,translateX:A,translateY:A,translateZ:A,x:A,y:A,z:A,perspective:A,transformPerspective:A,opacity:he,originX:Ls,originY:Ls,originZ:A},Vi={borderWidth:A,borderTopWidth:A,borderRightWidth:A,borderBottomWidth:A,borderLeftWidth:A,borderRadius:A,radius:A,borderTopLeftRadius:A,borderTopRightRadius:A,borderBottomRightRadius:A,borderBottomLeftRadius:A,width:A,maxWidth:A,height:A,maxHeight:A,top:A,right:A,bottom:A,left:A,padding:A,paddingTop:A,paddingRight:A,paddingBottom:A,paddingLeft:A,margin:A,marginTop:A,marginRight:A,marginBottom:A,marginLeft:A,backgroundPositionX:A,backgroundPositionY:A,...cd,zIndex:Ks,fillOpacity:he,strokeOpacity:he,numOctaves:Ks},fd={...Vi,color:j,backgroundColor:j,outlineColor:j,fill:j,stroke:j,borderColor:j,borderTopColor:j,borderRightColor:j,borderBottomColor:j,borderLeftColor:j,filter:Kn,WebkitFilter:Kn},ma=e=>fd[e];function ga(e,t){let n=ma(e);return n!==Kn&&(n=bt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const dd=new Set(["auto","none","0"]);function pd(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!dd.has(r)&&ce(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=ga(n,s)}class md extends Ci{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),wi(u))){const h=ca(u,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!fa.has(i)||t.length!==2)return;const[s,r]=t,o=Hs(s),a=Hs(r);if(o!==a)if(js(o)&&js(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else Rt[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||ad(t[s]))&&i.push(s);i.length&&pd(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rt[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=Rt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function gd(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const ya=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yd(e){return ko(e)&&"offsetHeight"in e}const Gs=30,_d=e=>!isNaN(parseFloat(e));class vd{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Y.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Y.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_d(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yi);const i=this.events[t].add(n);return t==="change"?()=>{i(),F.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Y.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gs);return Oo(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wt(e,t){return new vd(e,t)}const{schedule:Di}=Go(queueMicrotask,!1),it={x:!1,y:!1};function _a(){return it.x||it.y}function xd(e){return e==="x"||e==="y"?it[e]?null:(it[e]=!0,()=>{it[e]=!1}):it.x||it.y?null:(it.x=it.y=!0,()=>{it.x=it.y=!1})}function va(e,t){const n=gd(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function qs(e){return!(e.pointerType==="touch"||_a())}function wd(e,t,n={}){const[i,s,r]=va(e,n),o=a=>{if(!qs(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const h=c=>{qs(c)&&(u(c),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}const xa=(e,t)=>t?e===t?!0:xa(e,t.parentElement):!1,Li=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Td(e){return bd.has(e.tagName)||e.tabIndex!==-1}const ke=new WeakSet;function Xs(e){return t=>{t.key==="Enter"&&e(t)}}function dn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Sd=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Xs(()=>{if(ke.has(n))return;dn(n,"down");const s=Xs(()=>{dn(n,"up")}),r=()=>dn(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Ys(e){return Li(e)&&!_a()}function Pd(e,t,n={}){const[i,s,r]=va(e,n),o=a=>{const l=a.currentTarget;if(!Ys(a))return;ke.add(l);const u=t(l,a),h=(d,p)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",f),ke.has(l)&&ke.delete(l),Ys(d)&&typeof u=="function"&&u(d,{success:p})},c=d=>{h(d,l===window||l===document||n.useGlobalTarget||xa(l,d.target))},f=d=>{h(d,!1)};window.addEventListener("pointerup",c,s),window.addEventListener("pointercancel",f,s)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),yd(a)&&(a.addEventListener("focus",u=>Sd(u,s)),!Td(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function wa(e){return ko(e)&&"ownerSVGElement"in e}function Ad(e){return wa(e)&&e.tagName==="svg"}const G=e=>!!(e&&e.getVelocity),Md=[...pa,j,bt],Ed=e=>Md.find(da(e)),ba=W({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Cd(e=!0){const t=E(fi);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=gl();zt(()=>{if(e)return s(r)},[e]);const o=Dt(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,o]:[!0]}const Ta=W({strict:!1}),Zs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ht={};for(const e in Zs)Ht[e]={isEnabled:t=>Zs[e].some(n=>!!t[n])};function Rd(e){for(const t in e)Ht[t]={...Ht[t],...e[t]}}const Vd=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ze(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vd.has(e)}let Sa=e=>!ze(e);function Dd(e){typeof e=="function"&&(Sa=t=>t.startsWith("on")?!ze(t):e(t))}try{Dd(require("@emotion/is-prop-valid").default)}catch{}function Ld(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Sa(s)||n===!0&&ze(s)||!t&&!ze(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Ye=W({});function Ze(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fe(e){return typeof e=="string"||Array.isArray(e)}const ki=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fi=["initial",...ki];function Qe(e){return Ze(e.animate)||Fi.some(t=>fe(e[t]))}function Pa(e){return!!(Qe(e)||e.variants)}function kd(e,t){if(Qe(e)){const{initial:n,animate:i}=e;return{initial:n===!1||fe(n)?n:void 0,animate:fe(i)?i:void 0}}return e.inherit!==!1?t:{}}function Fd(e){const{initial:t,animate:n}=kd(e,E(Ye));return X(()=>({initial:t,animate:n}),[Qs(t),Qs(n)])}function Qs(e){return Array.isArray(e)?e.join(" "):e}const de={};function Od(e){for(const t in e)de[t]=e[t],xi(t)&&(de[t].isCSSVariable=!0)}function Aa(e,{layout:t,layoutId:n}){return Yt.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!de[e]||e==="opacity")}const Id={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bd=Xt.length;function $d(e,t,n){let i="",s=!0;for(let r=0;r<Bd;r++){const o=Xt[r],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=ya(a,Vi[o]);if(!l){s=!1;const h=Id[o]||o;i+=`${h}(${u}) `}n&&(t[o]=u)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Oi(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Yt.has(l)){o=!0;continue}else if(xi(l)){s[l]=u;continue}else{const h=ya(u,Vi[l]);l.startsWith("origin")?(a=!0,r[l]=h):i[l]=h}}if(t.transform||(o||n?i.transform=$d(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=r;i.transformOrigin=`${l} ${u} ${h}`}}const Ii=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ma(e,t,n){for(const i in t)!G(t[i])&&!Aa(i,n)&&(e[i]=t[i])}function Nd({transformTemplate:e},t){return X(()=>{const n=Ii();return Oi(n,t,e),Object.assign({},n.vars,n.style)},[t])}function jd(e,t){const n=e.style||{},i={};return Ma(i,n,e),Object.assign(i,Nd(e,t)),i}function Ud(e,t){const n={},i=jd(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const zd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wd={offset:"strokeDashoffset",array:"strokeDasharray"};function Hd(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?zd:Wd;e[r.offset]=A.transform(-i);const o=A.transform(t),a=A.transform(n);e[r.array]=`${o} ${a}`}function Ea(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...a},l,u,h){if(Oi(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:c,style:f}=e;c.transform&&(f.transform=c.transform,delete c.transform),(f.transform||c.transformOrigin)&&(f.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),f.transform&&(f.transformBox=h?.transformBox??"fill-box",delete c.transformBox),t!==void 0&&(c.x=t),n!==void 0&&(c.y=n),i!==void 0&&(c.scale=i),s!==void 0&&Hd(c,s,r,o,!1)}const Ca=()=>({...Ii(),attrs:{}}),Ra=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Kd(e,t,n,i){const s=X(()=>{const r=Ca();return Ea(r,t,Ra(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Ma(r,e.style,e),s.style={...r,...s.style}}return s}const Gd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bi(e){return typeof e!="string"||e.includes("-")?!1:!!(Gd.indexOf(e)>-1||/[A-Z]/u.test(e))}function qd(e,t,n,{latestValues:i},s,r=!1){const a=(Bi(e)?Kd:Ud)(t,i,s,e),l=Ld(t,typeof e=="string",r),u=e!==Z?{...l,...a,ref:n}:{},{children:h}=t,c=X(()=>G(h)?h.get():h,[h]);return D(e,{...u,children:c})}function Js(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function $i(e,t,n,i){if(typeof t=="function"){const[s,r]=Js(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=Js(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function Fe(e){return G(e)?e.get():e}function Xd({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:Yd(n,i,s,e),renderState:t()}}function Yd(e,t,n,i){const s={},r=i(e,{});for(const f in r)s[f]=Fe(r[f]);let{initial:o,animate:a}=e;const l=Qe(e),u=Pa(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const c=h?a:o;if(c&&typeof c!="boolean"&&!Ze(c)){const f=Array.isArray(c)?c:[c];for(let d=0;d<f.length;d++){const p=$i(e,f[d]);if(p){const{transitionEnd:y,transition:g,...m}=p;for(const _ in m){let v=m[_];if(Array.isArray(v)){const w=h?v.length-1:0;v=v[w]}v!==null&&(s[_]=v)}for(const _ in y)s[_]=y[_]}}}return s}const Va=e=>(t,n)=>{const i=E(Ye),s=E(fi),r=()=>Xd(e,t,i,s);return n?r():Cc(r)};function Ni(e,t,n){const{style:i}=e,s={};for(const r in i)(G(i[r])||t.style&&G(t.style[r])||Aa(r,e)||n?.getValue(r)?.liveStyle!==void 0)&&(s[r]=i[r]);return s}const Zd=Va({scrapeMotionValuesFromProps:Ni,createRenderState:Ii});function Da(e,t,n){const i=Ni(e,t,n);for(const s in e)if(G(e[s])||G(t[s])){const r=Xt.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}const Qd=Va({scrapeMotionValuesFromProps:Da,createRenderState:Ca}),Jd=Symbol.for("motionComponentSymbol");function It(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tp(e,t,n){return Dt(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):It(n)&&(n.current=i))},[t])}const ji=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ep="framerAppearId",La="data-"+ji(ep),ka=W({});function np(e,t,n,i,s){const{visualElement:r}=E(Ye),o=E(Ta),a=E(fi),l=E(ba).reducedMotion,u=_t(null);i=i||o.renderer,!u.current&&i&&(u.current=i(e,{visualState:t,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,c=E(ka);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&ip(u.current,n,s,c);const f=_t(!1);xl(()=>{h&&f.current&&h.update(n,a)});const d=n[La],p=_t(!!d&&!window.MotionHandoffIsComplete?.(d)&&window.MotionHasOptimisedAnimation?.(d));return Rc(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),zt(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(d)}),p.current=!1),h.enteringChildren=void 0)}),h}function ip(e,t,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Fa(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&It(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:u})}function Fa(e){if(e)return e.options.allowProjection!==!1?e.projection:Fa(e.parent)}function pn(e,{forwardMotionProps:t=!1}={},n,i){n&&Rd(n);const s=Bi(e)?Qd:Zd;function r(a,l){let u;const h={...E(ba),...a,layoutId:sp(a)},{isStatic:c}=h,f=Fd(a),d=s(a,c);if(!c&&ci){rp();const p=op(h);u=p.MeasureLayout,f.visualElement=np(e,d,h,i,p.ProjectionNode)}return Cn(Ye.Provider,{value:f,children:[u&&f.visualElement?Cn(u,{visualElement:f.visualElement,...h}):null,qd(e,a,tp(d,f.visualElement,l),d,c,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=Ge(r);return o[Jd]=e,o}function sp({layoutId:e}){const t=E(Do).id;return t&&e!==void 0?t+"-"+e:e}function rp(e,t){E(Ta).strict}function op(e){const{drag:t,layout:n}=Ht;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ap(e,t){if(typeof Proxy>"u")return pn;const n=new Map,i=(r,o)=>pn(r,o,e,t),s=(r,o)=>i(r,o);return new Proxy(s,{get:(r,o)=>o==="create"?i:(n.has(o)||n.set(o,pn(o,void 0,e,t)),n.get(o))})}function Oa({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function lp({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function up(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function mn(e){return e===void 0||e===1}function Gn({scale:e,scaleX:t,scaleY:n}){return!mn(e)||!mn(t)||!mn(n)}function At(e){return Gn(e)||Ia(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ia(e){return tr(e.x)||tr(e.y)}function tr(e){return e&&e!=="0%"}function We(e,t,n){const i=e-n,s=t*i;return n+s}function er(e,t,n,i,s){return s!==void 0&&(e=We(e,s,i)),We(e,n,i)+t}function qn(e,t=0,n=1,i,s){e.min=er(e.min,t,n,i,s),e.max=er(e.max,t,n,i,s)}function Ba(e,{x:t,y:n}){qn(e.x,t.translate,t.scale,t.originPoint),qn(e.y,n.translate,n.scale,n.originPoint)}const nr=.999999999999,ir=1.0000000000001;function hp(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&$t(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ba(e,o)),i&&At(r.latestValues)&&$t(e,r.latestValues))}t.x<ir&&t.x>nr&&(t.x=1),t.y<ir&&t.y>nr&&(t.y=1)}function Bt(e,t){e.min=e.min+t,e.max=e.max+t}function sr(e,t,n,i,s=.5){const r=O(e.min,e.max,s);qn(e,t,n,r,i)}function $t(e,t){sr(e.x,t.x,t.scaleX,t.scale,t.originX),sr(e.y,t.y,t.scaleY,t.scale,t.originY)}function $a(e,t){return Oa(up(e.getBoundingClientRect(),t))}function cp(e,t,n){const i=$a(e,n),{scroll:s}=t;return s&&(Bt(i.x,s.offset.x),Bt(i.y,s.offset.y)),i}const rr=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nt=()=>({x:rr(),y:rr()}),or=()=>({min:0,max:0}),$=()=>({x:or(),y:or()}),Xn={current:null},Na={current:!1};function fp(){if(Na.current=!0,!!ci)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xn.current=e.matches;e.addEventListener("change",t),t()}else Xn.current=!1}const dp=new WeakMap;function pp(e,t,n){for(const i in t){const s=t[i],r=n[i];if(G(s))e.addValue(i,s);else if(G(r))e.addValue(i,Wt(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(i);e.addValue(i,Wt(o!==void 0?o:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ar=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mp{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ci,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Y.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,F.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=Qe(n),this.isVariantNode=Pa(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...c}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in c){const d=c[f];l[f]!==void 0&&G(d)&&d.set(l[f])}}mount(t){this.current=t,dp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Na.current||fp(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xn.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wt(this.notifyUpdate),wt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Yt.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&F.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ht){const n=Ht[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ar.length;i++){const s=ar[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=pp(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Wt(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Lo(i)||Fo(i))?i=parseFloat(i):!Ed(i)&&bt.test(n)&&(i=ga(t,n)),this.setBaseTarget(t,G(i)?i.get():i)),G(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=$i(this.props,n,this.presenceContext?.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!G(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yi),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Di.render(this.render)}}class ja extends mp{constructor(){super(...arguments),this.KeyframeResolver=md}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;G(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ua(e,{style:t,vars:n},i,s){const r=e.style;let o;for(o in t)r[o]=t[o];s?.applyProjectionStyles(r,i);for(o in n)r.setProperty(o,n[o])}function gp(e){return window.getComputedStyle(e)}class yp extends ja{constructor(){super(...arguments),this.type="html",this.renderInstance=Ua}readValueFromInstance(t,n){if(Yt.has(n))return this.projection?.isProjecting?Nn(n):kf(t,n);{const i=gp(t),s=(xi(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return $a(t,n)}build(t,n,i){Oi(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Ni(t,n,i)}}const za=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _p(e,t,n,i){Ua(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(za.has(s)?s:ji(s),t.attrs[s])}class vp extends ja{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Yt.has(n)){const i=ma(n);return i&&i.default||0}return n=za.has(n)?n:ji(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Da(t,n,i)}build(t,n,i){Ea(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){_p(t,n,i,s)}mount(t){this.isSVGTag=Ra(t.tagName),super.mount(t)}}const xp=(e,t)=>Bi(e)?new vp(t):new yp(t,{allowProjection:e!==Z});function jt(e,t,n){const i=e.getProps();return $i(i,t,n!==void 0?n:i.custom,e)}const Yn=e=>Array.isArray(e);function wp(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wt(n))}function bp(e){return Yn(e)?e[e.length-1]||0:e}function Tp(e,t){const n=jt(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=bp(r[o]);wp(e,o,a)}}function Sp(e){return!!(G(e)&&e.add)}function Zn(e,t){const n=e.getValue("willChange");if(Sp(n))return n.add(t);if(!n&&pt.WillChange){const i=new pt.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Wa(e){return e.props[La]}const Pp=e=>e!==null;function Ap(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(Pp),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const Mp={type:"spring",stiffness:500,damping:25,restSpeed:10},Ep=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Cp={type:"keyframes",duration:.8},Rp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vp=(e,{keyframes:t})=>t.length>2?Cp:Yt.has(e)?e.startsWith("scale")?Ep(t[1]):Mp:Rp;function Dp({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const Ui=(e,t,n,i={},s,r)=>o=>{const a=Ri(i,e)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-ot(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:s};Dp(a)||Object.assign(h,Vp(e,h)),h.duration&&(h.duration=ot(h.duration)),h.repeatDelay&&(h.repeatDelay=ot(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let c=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Hn(h),h.delay===0&&(c=!0)),(pt.instantAnimations||pt.skipAnimations)&&(c=!0,Hn(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,c&&!r&&t.get()!==void 0){const f=Ap(h.keyframes,a);if(f!==void 0){F.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new Ei(h):new id(h)};function Lp({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Ha(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...a}=t;i&&(r=i);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const c=e.getValue(h,e.latestValues[h]??null),f=a[h];if(f===void 0||u&&Lp(u,h))continue;const d={delay:n,...Ri(r||{},h)},p=c.get();if(p!==void 0&&!c.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const m=Wa(e);if(m){const _=window.MotionHandoffAnimation(m,h,F);_!==null&&(d.startTime=_,y=!0)}}Zn(e,h),c.start(Ui(h,c,f,e.shouldReduceMotion&&fa.has(h)?{type:!1}:d,e,y));const g=c.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{F.update(()=>{o&&Tp(e,o)})}),l}function Ka(e,t,n,i=0,s=1){const r=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,a=(o-1)*i;return typeof n=="function"?n(r,o):s===1?r*i:a-r*i}function Qn(e,t,n={}){const i=jt(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Ha(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:c}=s;return kp(e,t,l,u,h,c,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>u())}else return Promise.all([r(),o(n.delay)])}function kp(e,t,n=0,i=0,s=0,r=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Qn(l,t,{...o,delay:n+(typeof i=="function"?0:i)+Ka(e.variantChildren,l,i,s,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Fp(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>Qn(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=Qn(e,t,n);else{const s=typeof t=="function"?jt(e,t,n.custom):t;i=Promise.all(Ha(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Ga(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Op=Fi.length;function qa(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qa(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Op;n++){const i=Fi[n],s=e.props[i];(fe(s)||s===!1)&&(t[i]=s)}return t}const Ip=[...ki].reverse(),Bp=ki.length;function $p(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Fp(e,n,i)))}function Np(e){let t=$p(e),n=lr(),i=!0;const s=l=>(u,h)=>{const c=jt(e,h,l==="exit"?e.presenceContext?.custom:void 0);if(c){const{transition:f,transitionEnd:d,...p}=c;u={...u,...p,...d}}return u};function r(l){t=l(e)}function o(l){const{props:u}=e,h=qa(e.parent)||{},c=[],f=new Set;let d={},p=1/0;for(let g=0;g<Bp;g++){const m=Ip[g],_=n[m],v=u[m]!==void 0?u[m]:h[m],w=fe(v),x=m===l?_.isActive:null;x===!1&&(p=g);let b=v===h[m]&&v!==u[m]&&w;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),_.protectedKeys={...d},!_.isActive&&x===null||!v&&!_.prevProp||Ze(v)||typeof v=="boolean")continue;const S=jp(_.prevProp,v);let T=S||m===l&&_.isActive&&!b&&w||g>p&&w,P=!1;const M=Array.isArray(v)?v:[v];let V=M.reduce(s(m),{});x===!1&&(V={});const{prevResolvedValues:L={}}=_,z={...L,...V},C=H=>{T=!0,f.has(H)&&(P=!0,f.delete(H)),_.needsAnimating[H]=!0;const Q=e.getValue(H);Q&&(Q.liveStyle=!1)};for(const H in z){const Q=V[H],St=L[H];if(d.hasOwnProperty(H))continue;let Ft=!1;Yn(Q)&&Yn(St)?Ft=!Ga(Q,St):Ft=Q!==St,Ft?Q!=null?C(H):f.add(H):Q!==void 0&&f.has(H)?C(H):_.protectedKeys[H]=!0}_.prevProp=v,_.prevResolvedValues=V,_.isActive&&(d={...d,...V}),i&&e.blockInitialAnimation&&(T=!1);const gt=b&&S;T&&(!gt||P)&&c.push(...M.map(H=>{const Q={type:m};if(typeof H=="string"&&i&&!gt&&e.manuallyAnimateOnMount&&e.parent){const{parent:St}=e,Ft=jt(St,H);if(St.enteringChildren&&Ft){const{delayChildren:ul}=Ft.transition||{};Q.delay=Ka(St.enteringChildren,e,ul)}}return{animation:H,options:Q}}))}if(f.size){const g={};if(typeof u.initial!="boolean"){const m=jt(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(g.transition=m.transition)}f.forEach(m=>{const _=e.getBaseTarget(m),v=e.getValue(m);v&&(v.liveStyle=!0),g[m]=_??null}),c.push({animation:g})}let y=!!c.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(c):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();e.variantChildren?.forEach(c=>c.animationState?.setActive(l,u)),n[l].isActive=u;const h=o(l);for(const c in n)n[c].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=lr()}}}function jp(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ga(t,e):!1}function Pt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lr(){return{animate:Pt(!0),whileInView:Pt(),whileHover:Pt(),whileTap:Pt(),whileDrag:Pt(),whileFocus:Pt(),exit:Pt()}}class Tt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Up extends Tt{constructor(t){super(t),t.animationState||(t.animationState=Np(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ze(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zp=0;class Wp extends Tt{constructor(){super(...arguments),this.id=zp++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hp={animation:{Feature:Up},exit:{Feature:Wp}};function pe(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function be(e){return{point:{x:e.pageX,y:e.pageY}}}const Kp=e=>t=>Li(t)&&e(t,be(t));function ie(e,t,n,i){return pe(e,t,Kp(n),i)}const Xa=1e-4,Gp=1-Xa,qp=1+Xa,Ya=.01,Xp=0-Ya,Yp=0+Ya;function q(e){return e.max-e.min}function Zp(e,t,n){return Math.abs(e-t)<=n}function ur(e,t,n,i=.5){e.origin=i,e.originPoint=O(t.min,t.max,e.origin),e.scale=q(n)/q(t),e.translate=O(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Gp&&e.scale<=qp||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xp&&e.translate<=Yp||isNaN(e.translate))&&(e.translate=0)}function se(e,t,n,i){ur(e.x,t.x,n.x,i?i.originX:void 0),ur(e.y,t.y,n.y,i?i.originY:void 0)}function hr(e,t,n){e.min=n.min+t.min,e.max=e.min+q(t)}function Qp(e,t,n){hr(e.x,t.x,n.x),hr(e.y,t.y,n.y)}function cr(e,t,n){e.min=t.min-n.min,e.max=e.min+q(t)}function re(e,t,n){cr(e.x,t.x,n.x),cr(e.y,t.y,n.y)}function tt(e){return[e("x"),e("y")]}const Za=({current:e})=>e?e.ownerDocument.defaultView:null,fr=(e,t)=>Math.abs(e-t);function Jp(e,t){const n=fr(e.x,t.x),i=fr(e.y,t.y);return Math.sqrt(n**2+i**2)}class Qa{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yn(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Jp(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!p)return;const{point:y}=f,{timestamp:g}=K;this.history.push({...y,timestamp:g});const{onStart:m,onMove:_}=this.handlers;d||(m&&m(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gn(d,this.transformPagePoint),F.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=yn(f.type==="pointercancel"?this.lastMoveEventInfo:gn(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,m),y&&y(f,m)},!Li(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=s||window;const a=be(t),l=gn(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=K;this.history=[{...u,timestamp:h}];const{onSessionStart:c}=n;c&&c(t,yn(l,this.history)),this.removeListeners=ve(ie(this.contextWindow,"pointermove",this.handlePointerMove),ie(this.contextWindow,"pointerup",this.handlePointerUp),ie(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wt(this.updatePoint)}}function gn(e,t){return t?{point:t(e.point)}:e}function dr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yn({point:e},t){return{point:e,delta:dr(e,Ja(t)),offset:dr(e,tm(t)),velocity:em(t,.1)}}function tm(e){return e[0]}function Ja(e){return e[e.length-1]}function em(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=Ja(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>ot(t)));)n--;if(!i)return{x:0,y:0};const r=et(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nm(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?O(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?O(n,e,i.max):Math.min(e,n)),e}function pr(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function im(e,{top:t,left:n,bottom:i,right:s}){return{x:pr(e.x,n,s),y:pr(e.y,t,i)}}function mr(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function sm(e,t){return{x:mr(e.x,t.x),y:mr(e.y,t.y)}}function rm(e,t){let n=.5;const i=q(e),s=q(t);return s>i?n=ue(t.min,t.max-i,e.min):i>s&&(n=ue(e.min,e.max-s,t.min)),dt(0,1,n)}function om(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jn=.35;function am(e=Jn){return e===!1?e=0:e===!0&&(e=Jn),{x:gr(e,"left","right"),y:gr(e,"top","bottom")}}function gr(e,t,n){return{min:yr(e,t),max:yr(e,n)}}function yr(e,t){return typeof e=="number"?e:e[t]||0}const lm=new WeakMap;class um{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(be(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:y}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xd(d),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tt(m=>{let _=this.getAxisMotionValue(m).get()||0;if(at.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[m];w&&(_=q(w)*(parseFloat(_)/100))}}this.originPoint[m]=_}),y&&F.postRender(()=>y(c,f)),Zn(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:y,onDrag:g}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:m}=f;if(p&&this.currentDirection===null){this.currentDirection=hm(m),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),g&&g(c,f)},l=(c,f)=>{this.latestPointerEvent=c,this.latestPanInfo=f,this.stop(c,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>tt(c=>this.getAnimationState(c)==="paused"&&this.getAxisMotionValue(c).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Qa(t,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:Za(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&F.postRender(()=>a(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Ee(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=nm(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&It(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=im(i.layoutBox,t):this.constraints=!1,this.elastic=am(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tt(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=om(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!It(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=cp(i,s.root,this.visualElement.getTransformPagePoint());let o=sm(s.layout.layoutBox,r);if(n){const a=n(lp(o));this.hasMutatedConstraints=!!a,a&&(o=Oa(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tt(h=>{if(!Ee(h,n,this.currentDirection))return;let c=l&&l[h]||{};o&&(c={min:0,max:0});const f=s?200:1e6,d=s?40:1e7,p={type:"inertia",velocity:i?t[h]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...c};return this.startAxisValueAnimation(h,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Zn(this.visualElement,t),i.start(Ui(t,i,0,n,this.visualElement,!1))}stopAnimation(){tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tt(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){tt(n=>{const{drag:i}=this.getProps();if(!Ee(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(t[n]-O(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!It(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};tt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=rm({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tt(o=>{if(!Ee(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(O(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;lm.set(this.visualElement,this);const t=this.visualElement.current,n=ie(t,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();It(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),F.read(i);const o=pe(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tt(h=>{const c=this.getAxisMotionValue(h);c&&(this.originPoint[h]+=l[h].translate,c.set(c.get()+l[h].translate))}),this.visualElement.render())}));return()=>{o(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Jn,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Ee(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function hm(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cm extends Tt{constructor(t){super(t),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new um(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const _r=e=>(t,n)=>{e&&F.postRender(()=>e(t,n))};class fm extends Tt{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(t){this.session=new Qa(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Za(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:_r(t),onStart:_r(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&F.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=ie(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oe={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(A.test(e))e=parseFloat(e);else return e;const n=vr(e,t.target.x),i=vr(e,t.target.y);return`${n}% ${i}%`}},dm={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=bt.parse(e);if(s.length>5)return i;const r=bt.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=O(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),r(s)}};let _n=!1;class pm extends st{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;Od(mm),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),_n&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Oe.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,_n=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||F.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Di.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;_n=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tl(e){const[t,n]=Cd(),i=E(Do);return Cn(pm,{...e,layoutGroup:i,switchLayoutGroup:E(ka),isPresent:t,safeToRemove:n})}const mm={borderRadius:{...Qt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomLeftRadius:Qt,borderBottomRightRadius:Qt,boxShadow:dm};function gm(e,t,n){const i=G(e)?e:Wt(e);return i.start(Ui("",i,t,n)),i.animation}const ym=(e,t)=>e.depth-t.depth;class _m{constructor(){this.children=[],this.isDirty=!1}add(t){di(this.children,t),this.isDirty=!0}remove(t){pi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ym),this.isDirty=!1,this.children.forEach(t)}}function vm(e,t){const n=Y.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(wt(i),e(r-t))};return F.setup(i,!0),()=>wt(i)}const el=["TopLeft","TopRight","BottomLeft","BottomRight"],xm=el.length,xr=e=>typeof e=="string"?parseFloat(e):e,wr=e=>typeof e=="number"||A.test(e);function wm(e,t,n,i,s,r){s?(e.opacity=O(0,n.opacity??1,bm(i)),e.opacityExit=O(t.opacity??1,0,Tm(i))):r&&(e.opacity=O(t.opacity??1,n.opacity??1,i));for(let o=0;o<xm;o++){const a=`border${el[o]}Radius`;let l=br(t,a),u=br(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wr(l)===wr(u)?(e[a]=Math.max(O(xr(l),xr(u),i),0),(at.test(u)||at.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=O(t.rotate||0,n.rotate||0,i))}function br(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bm=nl(0,.5,zo),Tm=nl(.5,.95,nt);function nl(e,t,n){return i=>i<e?0:i>t?1:n(ue(e,t,i))}function Tr(e,t){e.min=t.min,e.max=t.max}function J(e,t){Tr(e.x,t.x),Tr(e.y,t.y)}function Sr(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pr(e,t,n,i,s){return e-=t,e=We(e,1/n,i),s!==void 0&&(e=We(e,1/s,i)),e}function Sm(e,t=0,n=1,i=.5,s,r=e,o=e){if(at.test(t)&&(t=parseFloat(t),t=O(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=O(r.min,r.max,i);e===r&&(a-=t),e.min=Pr(e.min,t,n,a,s),e.max=Pr(e.max,t,n,a,s)}function Ar(e,t,[n,i,s],r,o){Sm(e,t[n],t[i],t[s],t.scale,r,o)}const Pm=["x","scaleX","originX"],Am=["y","scaleY","originY"];function Mr(e,t,n,i){Ar(e.x,t,Pm,n?n.x:void 0,i?i.x:void 0),Ar(e.y,t,Am,n?n.y:void 0,i?i.y:void 0)}function Er(e){return e.translate===0&&e.scale===1}function il(e){return Er(e.x)&&Er(e.y)}function Cr(e,t){return e.min===t.min&&e.max===t.max}function Mm(e,t){return Cr(e.x,t.x)&&Cr(e.y,t.y)}function Rr(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sl(e,t){return Rr(e.x,t.x)&&Rr(e.y,t.y)}function Vr(e){return q(e.x)/q(e.y)}function Dr(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Em{constructor(){this.members=[]}add(t){di(this.members,t),t.scheduleRender()}remove(t){if(pi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cm(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,o=n?.z||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:c,rotateY:f,skewX:d,skewY:p}=n;u&&(i=`perspective(${u}px) ${i}`),h&&(i+=`rotate(${h}deg) `),c&&(i+=`rotateX(${c}deg) `),f&&(i+=`rotateY(${f}deg) `),d&&(i+=`skewX(${d}deg) `),p&&(i+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const vn=["","X","Y","Z"],Rm=1e3;let Vm=0;function xn(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function rl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Wa(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",F,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&rl(i)}function ol({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=t?.()){this.id=Vm++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(km),this.nodes.forEach(Bm),this.nodes.forEach($m),this.nodes.forEach(Fm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _m)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yi),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wa(o)&&!Ad(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let h,c=0;const f=()=>this.root.updateBlockedByResize=!1;F.read(()=>{c=window.innerWidth}),e(o,()=>{const d=window.innerWidth;d!==c&&(c=d,this.root.updateBlockedByResize=!0,h&&h(),h=vm(f,250),Oe.hasAnimatedSinceResize&&(Oe.hasAnimatedSinceResize=!1,this.nodes.forEach(Fr)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:c,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Wm,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),m=!this.targetLayout||!sl(this.targetLayout,d),_=!c&&f;if(this.options.layoutRoot||this.resumeFrom||_||c&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...Ri(p,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(h,_)}else c||Fr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nm),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const c=this.path[h];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lr);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kr);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Im),this.nodes.forEach(Dm),this.nodes.forEach(Lm)):this.nodes.forEach(kr),this.clearAllSnapshots();const a=Y.now();K.delta=dt(0,1e3/60,a-K.timestamp),K.timestamp=a,K.isProcessing=!0,ln.update.process(K),ln.preRender.process(K),ln.render.process(K),K.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Di.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Om),this.sharedNodes.forEach(jm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,F.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){F.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!q(this.snapshot.measuredBox.x)&&!q(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!il(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||At(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Hm(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Km))){const{scroll:u}=this.root;u&&(Bt(a.x,u.offset.x),Bt(a.y,u.offset.y))}return a}removeElementScroll(o){const a=$();if(J(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:c}=u;u!==this.root&&h&&c.layoutScroll&&(h.wasRoot&&J(a,o),Bt(a.x,h.offset.x),Bt(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=$();J(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&$t(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),At(h.latestValues)&&$t(l,h.latestValues)}return At(this.latestValues)&&$t(l,this.latestValues),l}removeTransform(o){const a=$();J(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!At(u.latestValues))continue;Gn(u.latestValues)&&u.updateSnapshot();const h=$(),c=u.measurePageBox();J(h,c),Mr(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return At(this.latestValues)&&Mr(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==K.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:c}=this.options;if(!(!this.layout||!(h||c))){if(this.resolvedRelativeTargetAt=K.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$(),this.relativeTargetOrigin=$(),re(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),J(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$(),this.targetWithTransforms=$()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):J(this.target,this.layout.layoutBox),Ba(this.target,this.targetDelta)):J(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$(),this.relativeTargetOrigin=$(),re(this.relativeTargetOrigin,this.target,f.target),J(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gn(this.parent.latestValues)||Ia(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===K.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;J(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,f=this.treeScale.y;hp(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sr(this.prevProjectionDelta.x,this.projectionDelta.x),Sr(this.prevProjectionDelta.y,this.projectionDelta.y)),se(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==f||!Dr(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dr(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nt(),this.projectionDelta=Nt(),this.projectionDeltaWithTransform=Nt()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},c=Nt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=$(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=d!==p,g=this.getStack(),m=!g||g.members.length<=1,_=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(zm));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const x=w/1e3;Or(c.x,o.x,x),Or(c.y,o.y,x),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(re(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Um(this.relativeTarget,this.relativeTargetOrigin,f,x),v&&Mm(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=$()),J(v,this.relativeTarget)),y&&(this.animationValues=h,wm(h,u,this.latestValues,x,_,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=F.update(()=>{Oe.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wt(0)),this.currentAnimation=gm(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&al(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||$();const c=q(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+c;const f=q(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}J(a,l),$t(a,h),se(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Em),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&xn("z",o,u,this.animationValues);for(let h=0;h<vn.length;h++)xn(`rotate${vn[h]}`,o,u,this.animationValues),xn(`skew${vn[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Fe(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Fe(a?.pointerEvents)||""),this.hasProjected&&!At(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let c=Cm(this.projectionDeltaWithTransform,this.treeScale,h);l&&(c=l(h,c)),o.transform=c;const{x:f,y:d}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in de){if(h[p]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:m}=de[p],_=c==="none"?h[p]:y(h[p],u);if(g){const v=g.length;for(let w=0;w<v;w++)o[g[w]]=_}else m?this.options.visualElement.renderState.vars[p]=_:o[p]=_}this.options.layoutId&&(o.pointerEvents=u===this?Fe(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Lr),this.root.sharedNodes.clear()}}}function Dm(e){e.updateLayout()}function Lm(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,r=t.source!==e.layout.source;s==="size"?tt(h=>{const c=r?t.measuredBox[h]:t.layoutBox[h],f=q(c);c.min=n[h].min,c.max=c.min+f}):al(s,t.layoutBox,n)&&tt(h=>{const c=r?t.measuredBox[h]:t.layoutBox[h],f=q(n[h]);c.max=c.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const o=Nt();se(o,n,t.layoutBox);const a=Nt();r?se(a,e.applyTransform(i,!0),t.measuredBox):se(a,n,t.layoutBox);const l=!il(o);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:c,layout:f}=h;if(c&&f){const d=$();re(d,t.layoutBox,c.layoutBox);const p=$();re(p,n,f.layoutBox),sl(d,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=d,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function km(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fm(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Om(e){e.clearSnapshot()}function Lr(e){e.clearMeasurements()}function kr(e){e.isLayoutDirty=!1}function Im(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Bm(e){e.resolveTargetDelta()}function $m(e){e.calcProjection()}function Nm(e){e.resetSkewAndRotation()}function jm(e){e.removeLeadSnapshot()}function Or(e,t,n){e.translate=O(t.translate,0,n),e.scale=O(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ir(e,t,n,i){e.min=O(t.min,n.min,i),e.max=O(t.max,n.max,i)}function Um(e,t,n,i){Ir(e.x,t.x,n.x,i),Ir(e.y,t.y,n.y,i)}function zm(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Wm={duration:.45,ease:[.4,0,.1,1]},Br=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$r=Br("applewebkit/")&&!Br("chrome/")?Math.round:nt;function Nr(e){e.min=$r(e.min),e.max=$r(e.max)}function Hm(e){Nr(e.x),Nr(e.y)}function al(e,t,n){return e==="position"||e==="preserve-aspect"&&!Zp(Vr(t),Vr(n),.2)}function Km(e){return e!==e.root&&e.scroll?.wasRoot}const Gm=ol({attachResizeListener:(e,t)=>pe(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wn={current:void 0},ll=ol({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wn.current){const e=new Gm({});e.mount(window),e.setOptions({layoutScroll:!0}),wn.current=e}return wn.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qm={pan:{Feature:fm},drag:{Feature:cm,ProjectionNode:ll,MeasureLayout:tl}};function jr(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&F.postRender(()=>r(t,be(t)))}class Xm extends Tt{mount(){const{current:t}=this.node;t&&(this.unmount=wd(t,(n,i)=>(jr(this.node,i,"Start"),s=>jr(this.node,s,"End"))))}unmount(){}}class Ym extends Tt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ve(pe(this.node.current,"focus",()=>this.onFocus()),pe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ur(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&F.postRender(()=>r(t,be(t)))}class Zm extends Tt{mount(){const{current:t}=this.node;t&&(this.unmount=Pd(t,(n,i)=>(Ur(this.node,i,"Start"),(s,{success:r})=>Ur(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ti=new WeakMap,bn=new WeakMap,Qm=e=>{const t=ti.get(e.target);t&&t(e)},Jm=e=>{e.forEach(Qm)};function tg({root:e,...t}){const n=e||document;bn.has(n)||bn.set(n,{});const i=bn.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Jm,{root:e,...t})),i[s]}function eg(e,t,n){const i=tg(t);return ti.set(e,n),i.observe(e),()=>{ti.delete(e),i.unobserve(e)}}const ng={some:0,all:1};class ig extends Tt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:ng[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:c}=this.node.getProps(),f=u?h:c;f&&f(l)};return eg(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(sg(t,n))&&this.startObserver()}unmount(){}}function sg({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const rg={inView:{Feature:ig},tap:{Feature:Zm},focus:{Feature:Ym},hover:{Feature:Xm}},og={layout:{ProjectionNode:ll,MeasureLayout:tl}},ag={...Hp,...rg,...qm,...og},wg=ap(ag,xp);export{_t as A,hg as C,Th as G,dg as H,yg as M,tn as P,fg as R,X as T,Mu as a,mg as b,cg as c,gg as d,pg as e,Be as f,vg as g,_g as h,wg as m,Cn as u,zt as y,ug as z};
