import{r as d,j as r}from"./index-BLvMna2s.js";import{H as S,F as w}from"./general-ChOdXDN-.js";const l={_origin:"https://api.emailjs.com"},F=(s,e="https://api.emailjs.com")=>{l._userID=s,l._origin=e},g=(s,e,a)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class f{constructor(e){this.status=e.status,this.text=e.responseText}}const x=(s,e,a={})=>new Promise((m,n)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:t})=>{const c=new f(t);c.status===200||c.text==="OK"?m(c):n(c)}),i.addEventListener("error",({target:t})=>{n(new f(t))}),i.open("POST",l._origin+s,!0),Object.keys(a).forEach(t=>{i.setRequestHeader(t,a[t])}),i.send(e)}),q=(s,e,a,m)=>{const n=m||l._userID;return g(n,s,e),x("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:s,template_id:e,template_params:a}),{"Content-type":"application/json"})},y=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},T=(s,e,a,m)=>{const n=m||l._userID,i=y(a);g(n,s,e);const t=new FormData(i);return t.append("lib_version","3.2.0"),t.append("service_id",s),t.append("template_id",e),t.append("user_id",n),x("/api/v1.0/email/send-form",t)},E={init:F,send:q,sendForm:T},N=()=>{const[s,e]=d.useState(""),[a,m]=d.useState(""),[n,i]=d.useState({name:!1,message:!1}),[t,c]=d.useState({name:!1,message:!1}),[j,p]=d.useState(),[b,h]=d.useState();d.useEffect(()=>{(t.name||t.message)&&i(o=>({...o,name:s==="",message:a===""}))},[s,a,t]);function _(o){o.preventDefault(),(!n.name||!n.message)&&(i(u=>({...u,name:s===""})),i(u=>({...u,message:a===""})));const v={name:s,feedback:a};E.send("service_qskfpcj","template_21t2lau",v,"x3W7CWcYMOJJ_XUHF").then(()=>{h("success"),p("Your message has been sent!")}).catch(u=>{console.error(u),h("error"),p("An error occurred while sending your message. Please try again later.")})}return r.jsxs("main",{className:"contact works",children:[r.jsx(S,{}),r.jsx("header",{children:r.jsx("h1",{children:"Contact Me"})}),r.jsxs("form",{onSubmit:o=>_(o),noValidate:!0,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",children:"Name"}),r.jsx("input",{type:"text",name:"name",id:"name",placeholder:"Enter your name",required:!0,onChange:o=>e(o.target.value),autoComplete:"name",onInput:()=>c(o=>({...o,name:!0}))}),r.jsx("p",{id:"name-error",className:n.name?"visible":"",children:"This is a required field"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",children:"Message"}),r.jsx("textarea",{name:"message",id:"message",cols:"30",rows:"10",placeholder:"Enter your message",required:!0,onChange:o=>m(o.target.value),onInput:()=>c(o=>({...o,message:!0}))}),r.jsx("p",{id:"message-error",className:n.message?"visible":"",children:"This is a required field"})]}),r.jsx("button",{type:"submit",children:"Submit"})]}),r.jsx("p",{className:b??"",children:j}),r.jsx(w,{})]})};export{N as default};
