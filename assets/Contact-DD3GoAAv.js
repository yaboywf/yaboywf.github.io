import{d as y,O as B,j as x,u as e,k as L,l as F,m as h,n as H,A as I,_ as M,o as R,p as S,y as G,q as W,r as z,G as E,s as N,t as A}from"./vendor-C08PF8Mu.js";import{P as O}from"./Particles-BlNDF2Or.js";/* empty css                */function T({children:n,currentStep:t=1,onStepChange:r=()=>{},onFinalStepCompleted:s=()=>{},checkRequirements:m=async()=>!0,...d}){const[g,f]=y(0),v=B.toArray(n),u=v.length,b=t>u,i=t===u,o=x(),a=p=>{p>u?s():r(p)},c=async()=>{console.log(t),!i&&await m(t)&&(f(1),a(t+1))};return e("div",{className:"outer-container",...d,children:[e("h2",{id:"title",children:"Contact Me"}),e("div",{className:"step-indicator-row",children:v.map((p,w)=>{const k=w+1,P=w<u-1;return e(L.Fragment,{children:[e(V,{step:k,currentStep:t}),P&&e(Y,{isComplete:t>k})]},k)})}),e(j,{isCompleted:b,currentStep:t,direction:g,className:"step-content-default",children:v[t-1]}),!b&&t!==1&&e("div",{className:"footer-container",children:e("div",{className:`footer-nav ${t!==1?"spread":"end"}`,children:[!i&&e("button",{onClick:()=>o("/"),className:"back-button",children:"Return to Home"}),t!==1&&e(F,{children:e("button",{onClick:i?()=>o("/"):c,className:`next-button ${i?"final":""}`,children:i?"Return to Home":"Continue"})})]})})]})}function j({isCompleted:n,currentStep:t,direction:r,children:s,className:m}){const[d,g]=y(0);return e(h.div,{className:m,style:{position:"relative",overflow:"hidden"},animate:{height:n?0:d},transition:{type:"spring",duration:.4},children:e(H,{initial:!1,mode:"sync",custom:r,children:!n&&e(q,{direction:r,onHeightReady:f=>g(f),children:s},t)})})}function q({children:n,direction:t,onHeightReady:r}){const s=I(null);return M(()=>{s.current&&r(s.current.offsetHeight)},[n,r]),e(h.div,{ref:s,custom:t,variants:D,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:n})}const D={enter:n=>({x:n>=0?"100%":"-100%",opacity:0}),center:{x:"0%",opacity:1},exit:n=>({x:n>=0?"-50%":"50%",opacity:0})};function _({children:n}){return e("div",{className:"step-default",children:n})}function V({step:n,currentStep:t}){const r=t===n?"active":t<n?"inactive":"complete";return e(h.div,{className:"step-indicator",animate:r,initial:!1,children:e(h.div,{variants:{inactive:{scale:1,backgroundColor:"#222",color:"#a3a3a3"},active:{scale:1,backgroundColor:"#5227FF",color:"#5227FF"},complete:{scale:1,backgroundColor:"#5227FF",color:"#3b82f6"}},transition:{duration:.3},className:"step-indicator-inner",children:r==="complete"?e("svg",{className:"check-icon",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e(h.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):r==="active"?e("div",{className:"active-dot"}):e("span",{className:"step-number",children:n})})})}function Y({isComplete:n}){const t={incomplete:{width:0,backgroundColor:"rgba(0,0,0,0)"},complete:{width:"100%",backgroundColor:"#5227FF"}};return e("div",{className:"step-connector",children:e(h.div,{className:"step-connector-inner",variants:t,initial:!1,animate:n?"complete":"incomplete",transition:{duration:.4}})})}const $="_contact_1ycnc_1",U="_stepper_1ycnc_6",K="_loginButtons_1ycnc_18",J="_returnButton_1ycnc_56",Q="_completed_1ycnc_69",X="_error_1ycnc_82",l={contact:$,stepper:U,loginButtons:K,returnButton:J,completed:Q,"error-container":"_error-container_1ycnc_82",error:X},Z={apiKey:"AIzaSyCNxuiV1RUiFLjYkATnnha2xO940oSzAC4",authDomain:"portfolio-870ce.firebaseapp.com",projectId:"portfolio-870ce",storageBucket:"portfolio-870ce.firebasestorage.app",messagingSenderId:"273107039366",appId:"1:273107039366:web:61edca46bb11ced2a7cd07"},ee=S(Z),C=R(ee),re=()=>{const[n,t]=y(),[r,s]=y(""),[m,d]=y(1),g=x();G(()=>{W(C,o=>{o?(t(o),d(2)):d(1)}),document.title="Dylan Yeo Portfolio | Contact Me"},[]);const f=async()=>{const o=new E;try{await N(C,o)}catch(a){console.error("Error during sign-in: ",a),i("An error occurred during sign-in. Please try again.")}},v=async()=>{const o=new A("microsoft.com");try{await N(C,o)}catch(a){console.error("Error during sign-in: ",a),i("An error occurred during sign-in. Please try again.")}},u=async()=>{const o=new A("github.com");try{await N(C,o)}catch(a){console.error("Error during sign-in: ",a),i("An error occurred during sign-in. Please try again.")}},b=async o=>{try{if(o===2){if(r.trim()==="")return!1;const a=await n.getIdToken();return(await z.post("https://portfolio.dylanyeowf.workers.dev",{message:r},{headers:{Authorization:`Bearer ${a}`}})).data.success===!0}return!0}catch(a){return console.error(a),i(a.data.error||"An error occurred while sending your message."),!1}},i=(o,a="error")=>{const c=document.createElement("div");c.classList.add(l.error),a==="success"&&c.classList.add("success"),c.textContent=o;const p=document.querySelector("."+l["error-container"]);p&&p.appendChild(c),setTimeout(()=>c.remove(),5e3)};return e("main",{className:l.contact,children:[e("div",{className:l["error-container"]}),e(O,{particleColors:["#ffffff","#ffffff"],particleCount:200,particleSpread:10,speed:.5,particleBaseSize:100,moveParticlesOnHover:!0,alphaParticles:!0,disableRotation:!1}),e(T,{className:l.stepper,currentStep:m,checkRequirements:b,onStepChange:d,children:[e(_,{children:[e("h2",{children:"Please Login to continue"}),e("p",{children:"Login is required to prevent spam"}),e("div",{className:l.loginButtons,children:[e("button",{onClick:f,children:"Google"}),e("button",{onClick:v,children:"Microsoft"}),e("button",{onClick:u,children:"GitHub"})]}),e("button",{className:l.returnButton,onClick:()=>g("/"),children:"Return to Home"})]}),e(_,{children:[e("h2",{children:"Message"}),e("textarea",{name:"message",id:"message",placeholder:"Your message",value:r,onChange:o=>s(o.target.value)})]}),e(_,{children:e("div",{className:l.completed,children:[e("i",{class:"fas fa-party-horn"}),e("h2",{children:"Horray!"}),e("p",{children:"Thank you for your message"})]})})]})]})};export{re as default};
